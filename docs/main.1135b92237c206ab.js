"use strict";(self.webpackChunkafb4=self.webpackChunkafb4||[]).push([[179],{129:()=>{function De(n){return"function"==typeof n}function Ya(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Dc=Ya(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function no(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class yn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof Dc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{s0(s)}catch(o){e=null!=e?e:[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)s0(e);else{if(e instanceof yn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&no(t,e)}remove(e){const{_finalizers:t}=this;t&&no(t,e),e instanceof yn&&e._removeParent(this)}}yn.EMPTY=(()=>{const n=new yn;return n.closed=!0,n})();const n0=yn.EMPTY;function r0(n){return n instanceof yn||n&&"closed"in n&&De(n.remove)&&De(n.add)&&De(n.unsubscribe)}function s0(n){De(n)?n():n.unsubscribe()}const Wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sc={setTimeout(n,e,...t){const{delegate:r}=Sc;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Sc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function o0(n){Sc.setTimeout(()=>{const{onUnhandledError:e}=Wi;if(!e)throw n;e(n)})}function a0(){}const VU=Pp("C",void 0,void 0);function Pp(n,e,t){return{kind:n,value:e,error:t}}let Ki=null;function Cc(n){if(Wi.useDeprecatedSynchronousErrorHandling){const e=!Ki;if(e&&(Ki={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ki;if(Ki=null,t)throw r}}else n()}class Op extends yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,r0(e)&&e.add(this)):this.destination=GU}static create(e,t,r){return new Ac(e,t,r)}next(e){this.isStopped?Lp(function BU(n){return Pp("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Lp(function UU(n){return Pp("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lp(VU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $U=Function.prototype.bind;function Fp(n,e){return $U.call(n,e)}class HU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xc(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xc(r)}else xc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xc(t)}}}class Ac extends Op{constructor(e,t,r){let i;if(super(),De(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Wi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fp(e.next,s),error:e.error&&Fp(e.error,s),complete:e.complete&&Fp(e.complete,s)}):i=e}this.destination=new HU(i)}}function xc(n){Wi.useDeprecatedSynchronousErrorHandling?function jU(n){Wi.useDeprecatedSynchronousErrorHandling&&Ki&&(Ki.errorThrown=!0,Ki.error=n)}(n):o0(n)}function Lp(n,e){const{onStoppedNotification:t}=Wi;t&&Sc.setTimeout(()=>t(n,e))}const GU={closed:!0,next:a0,error:function qU(n){throw n},complete:a0},Vp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qi(n){return n}let Ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function WU(n){return n&&n instanceof Op||function zU(n){return n&&De(n.next)&&De(n.error)&&De(n.complete)}(n)&&r0(n)}(t)?t:new Ac(t,r,i);return Cc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=l0(r))((i,s)=>{const o=new Ac({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Vp](){return this}pipe(...t){return function u0(n){return 0===n.length?Qi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=l0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function l0(n){var e;return null!==(e=null!=n?n:Wi.Promise)&&void 0!==e?e:Promise}const KU=Ya(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pr=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new c0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new KU}next(t){Cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?n0:(this.currentObservers=null,s.push(t),new yn(()=>{this.currentObservers=null,no(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return n.create=(e,t)=>new c0(e,t),n})();class c0 extends Pr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:n0}}function d0(n){return De(null==n?void 0:n.lift)}function bt(n){return e=>{if(d0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(n,e,t,r,i){return new QU(n,e,t,r,i)}class QU extends Op{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(n,e){return bt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>{r.next(n.call(e,s,i++))}))})}function f0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Yi(n){return this instanceof Yi?(this.v=n,this):new Yi(n)}function XU(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ZU(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function g0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const m0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function y0(n){return De(null==n?void 0:n.then)}function _0(n){return De(n[Vp])}function v0(n){return Symbol.asyncIterator&&De(null==n?void 0:n[Symbol.asyncIterator])}function w0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E0=function tB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I0(n){return De(null==n?void 0:n[E0])}function T0(n){return XU(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Yi(t.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{t.releaseLock()}})}function b0(n){return De(null==n?void 0:n.getReader)}function Or(n){if(n instanceof Ve)return n;if(null!=n){if(_0(n))return function nB(n){return new Ve(e=>{const t=n[Vp]();if(De(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(m0(n))return function rB(n){return new Ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(y0(n))return function iB(n){return new Ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o0)})}(n);if(v0(n))return D0(n);if(I0(n))return function sB(n){return new Ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(b0(n))return function oB(n){return D0(T0(n))}(n)}throw w0(n)}function D0(n){return new Ve(e=>{(function aB(n,e){var t,r,i,s;return function YU(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ZU(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Fr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ht(n,e,t=1/0){return De(e)?ht((r,i)=>Ee((s,o)=>e(r,s,i,o))(Or(n(r,i))),t):("number"==typeof e&&(t=e),bt((r,i)=>function uB(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let _=!1;Or(t(g,c++)).subscribe(Dt(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<r;){const v=u.shift();o?Fr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Dt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Ja(n=1/0){return ht(Qi,n)}const Lr=new Ve(n=>n.complete());function Bp(n){return n[n.length-1]}function Xa(n){return function cB(n){return n&&De(n.schedule)}(Bp(n))?n.pop():void 0}function Mc(n,e=0){return bt((t,r)=>{t.subscribe(Dt(r,i=>Fr(r,n,()=>r.next(i),e),()=>Fr(r,n,()=>r.complete(),e),i=>Fr(r,n,()=>r.error(i),e)))})}function Nc(n,e=0){return bt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function S0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ve(t=>{Fr(t,e,()=>{const r=n[Symbol.asyncIterator]();Fr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function St(n,e){return e?function _B(n,e){if(null!=n){if(_0(n))return function fB(n,e){return Or(n).pipe(Nc(e),Mc(e))}(n,e);if(m0(n))return function gB(n,e){return new Ve(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(y0(n))return function pB(n,e){return Or(n).pipe(Nc(e),Mc(e))}(n,e);if(v0(n))return S0(n,e);if(I0(n))return function mB(n,e){return new Ve(t=>{let r;return Fr(t,e,()=>{r=n[E0](),Fr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>De(null==r?void 0:r.return)&&r.return()})}(n,e);if(b0(n))return function yB(n,e){return S0(T0(n),e)}(n,e)}throw w0(n)}(n,e):Or(n)}function Rc(n){return n<=0?()=>Lr:bt((e,t)=>{let r=0;e.subscribe(Dt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jp(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Rc(1)).subscribe(()=>n())}function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Hp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const EB=Te({__forward_ref__:Te});function qp(n){return n.__forward_ref__=qp,n.toString=function(){return ve(this())},n}function J(n){return function C0(n){return"function"==typeof n&&n.hasOwnProperty(EB)&&n.__forward_ref__===qp}(n)?n():n}class O extends Error{constructor(e,t){super(function Gp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Q(n){return"string"==typeof n?n:null==n?"":String(n)}function Kt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Q(n)}function kc(n,e){const t=e?` in ${e}`:"";throw new O(-201,`No provider for ${Kt(n)} found${t}`)}function vn(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function zp(n){return A0(n,Pc)||A0(n,M0)}function A0(n,e){return n.hasOwnProperty(e)?n[e]:null}function x0(n){return n&&(n.hasOwnProperty(Wp)||n.hasOwnProperty(AB))?n[Wp]:null}const Pc=Te({\u0275prov:Te}),Wp=Te({\u0275inj:Te}),M0=Te({ngInjectableDef:Te}),AB=Te({ngInjectorDef:Te});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let Kp;function ci(n){const e=Kp;return Kp=n,e}function N0(n,e,t){const r=zp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&W.Optional?null:void 0!==e?e:void kc(ve(n),"Injector")}function di(n){return{toString:n}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),Qn=(()=>{return(n=Qn||(Qn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qn;var n})();const MB="undefined"!=typeof globalThis&&globalThis,NB="undefined"!=typeof window&&window,RB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=MB||"undefined"!=typeof global&&global||NB||RB,ro={},be=[],Oc=Te({\u0275cmp:Te}),Qp=Te({\u0275dir:Te}),Yp=Te({\u0275pipe:Te}),R0=Te({\u0275mod:Te}),Ur=Te({\u0275fac:Te}),Za=Te({__NG_ELEMENT_ID__:Te});let kB=0;function Fc(n){return di(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||be,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,id:"c",styles:n.styles||be,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=kB++,r.inputs=F0(n.inputs,t),r.outputs=F0(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(k0):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(P0):null,r})}function k0(n){return Ut(n)||function hi(n){return n[Qp]||null}(n)}function P0(n){return function Ji(n){return n[Yp]||null}(n)}const O0={};function Yn(n){return di(()=>{const e={type:n.type,bootstrap:n.bootstrap||be,declarations:n.declarations||be,imports:n.imports||be,exports:n.exports||be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(O0[n.id]=n.type),e})}function F0(n,e){if(null==n)return ro;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Vt=Fc;function Ut(n){return n[Oc]||null}function kn(n,e){const t=n[R0]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}const X=11;function pr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xn(n){return Array.isArray(n)&&!0===n[1]}function Zp(n){return 0!=(8&n.flags)}function Bc(n){return 2==(2&n.flags)}function jc(n){return 1==(1&n.flags)}function Zn(n){return null!==n.template}function UB(n){return 0!=(512&n[2])}function ts(n,e){return n.hasOwnProperty(Ur)?n[Ur]:null}class $B{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function V0(n){return n.type.prototype.ngOnChanges&&(n.setInput=qB),HB}function HB(){const n=B0(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ro)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qB(n,e,t,r){const i=B0(n)||function GB(n,e){return n[U0]=e}(n,{previous:ro,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new $B(u&&u.currentValue,e,o===ro),n[r]=e}const U0="__ngSimpleChanges__";function B0(n){return n[U0]||null}let ig;function Ue(n){return!!n.listen}const j0={createRenderer:(n,e)=>function sg(){return void 0!==ig?ig:"undefined"!=typeof document?document:void 0}()};function Ke(n){for(;Array.isArray(n);)n=n[0];return n}function Fn(n,e){return Ke(e[n.index])}function En(n,e){const t=e[n];return pr(t)?t:t[0]}function ag(n){return 128==(128&n[2])}function fi(n,e){return null==e?null:n[e]}function H0(n){n[18]=0}function ug(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const z={lFrame:J0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function q0(){return z.bindingsEnabled}function I(){return z.lFrame.lView}function de(){return z.lFrame.tView}function rt(){let n=G0();for(;null!==n&&64===n.type;)n=n.parent;return n}function G0(){return z.lFrame.currentTNode}function gr(n,e){const t=z.lFrame;t.currentTNode=n,t.isParent=e}function lg(){return z.lFrame.isParent}function Hc(){return z.isInCheckNoChangesMode}function qc(n){z.isInCheckNoChangesMode=n}function l2(n,e){const t=z.lFrame;t.bindingIndex=t.bindingRootIndex=n,dg(e)}function dg(n){z.lFrame.currentDirectiveIndex=n}function fg(n){z.lFrame.currentQueryIndex=n}function d2(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Q0(n,e,t){if(t&W.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&W.Host||(i=d2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=z.lFrame=Y0();return r.currentTNode=e,r.lView=n,!0}function Gc(n){const e=Y0(),t=n[1];z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Y0(){const n=z.lFrame,e=null===n?null:n.child;return null===e?J0(n):e}function J0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function X0(){const n=z.lFrame;return z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Z0=X0;function zc(){const n=X0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yt(){return z.lFrame.selectedIndex}function pi(n){z.lFrame.selectedIndex=n}function Wc(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Kc(n,e,t){eS(n,e,3,t)}function Qc(n,e,t,r){(3&n[2])===t&&eS(n,e,t,r)}function pg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function eS(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(w2(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function w2(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class iu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Yc(n,e,t){const r=Ue(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];mg(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function tS(n){return 3===n||4===n||6===n}function mg(n){return 64===n.charCodeAt(0)}function Jc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||nS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function nS(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function rS(n){return-1!==n}function co(n){return 32767&n}function ho(n,e){let t=function D2(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let yg=!0;function Xc(n){const e=yg;return yg=n,e}let S2=0;function ou(n,e){const t=vg(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,_g(r.data,n),_g(e,null),_g(r.blueprint,null));const i=Zc(n,e),s=n.injectorIndex;if(rS(i)){const o=co(i),a=ho(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Zc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function ed(n,e,t){!function C2(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Za)&&(r=t[Za]),null==r&&(r=t[Za]=S2++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function oS(n,e,t){if(t&W.Optional)return n;kc(e,"NodeInjector")}function aS(n,e,t,r){if(t&W.Optional&&void 0===r&&(r=null),0==(t&(W.Self|W.Host))){const i=n[9],s=ci(void 0);try{return i?i.get(e,r,t&W.Optional):N0(e,r,t&W.Optional)}finally{ci(s)}}return oS(r,e,t)}function uS(n,e,t,r=W.Default,i){if(null!==n){const s=function N2(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Za)?n[Za]:void 0;return"number"==typeof e?e>=0?255&e:x2:e}(t);if("function"==typeof s){if(!Q0(e,n,r))return r&W.Host?oS(i,t,r):aS(e,t,r,i);try{const o=s(r);if(null!=o||r&W.Optional)return o;kc(t)}finally{Z0()}}else if("number"==typeof s){let o=null,a=vg(n,e),u=-1,l=r&W.Host?e[16][6]:null;for((-1===a||r&W.SkipSelf)&&(u=-1===a?Zc(n,e):e[a+8],-1!==u&&dS(r,!1)?(o=e[1],a=co(u),e=ho(u,e)):a=-1);-1!==a;){const c=e[1];if(cS(s,a,c.data)){const d=M2(a,e,t,o,r,l);if(d!==lS)return d}u=e[a+8],-1!==u&&dS(r,e[1].data[a+8]===l)&&cS(s,a,e)?(o=c,a=co(u),e=ho(u,e)):a=-1}}}return aS(e,t,r,i)}const lS={};function x2(){return new fo(rt(),I())}function M2(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function td(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Zn(f)&&f.type===t)return u}return null}(a,o,t,null==r?Bc(a)&&yg:r!=o&&0!=(3&a.type),i&W.Host&&s===a);return null!==c?au(e,o,c,a):lS}function au(n,e,t,r){let i=n[t];const s=e.data;if(function E2(n){return n instanceof iu}(i)){const o=i;o.resolving&&function IB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${t}`)}(Kt(s[t]));const a=Xc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ci(o.injectImpl):null;Q0(n,r,W.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function v2(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=V0(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&ci(u),Xc(a),o.resolving=!1,Z0()}}return i}function cS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function dS(n,e){return!(n&W.Self||n&W.Host&&e)}class fo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uS(this._tNode,this._lView,e,r,t)}}const go="__parameters__";function yo(n,e,t){return di(()=>{const r=function Eg(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(go)?u[go]:Object.defineProperty(u,go,{value:[]})[go];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class se{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const P2=new se("AnalyzeForEntryComponents");function mr(n,e){n.forEach(t=>Array.isArray(t)?mr(t,e):e(t))}function fS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}const hu={},Dg="__NG_DI_FLAG__",id="ngTempTokenPath",q2=/\n/gm,_S="__source",z2=Te({provide:String,useValue:Te});let fu;function vS(n){const e=fu;return fu=n,e}function W2(n,e=W.Default){if(void 0===fu)throw new O(203,"");return null===fu?N0(n,void 0,e):fu.get(n,e&W.Optional?null:void 0,e)}function L(n,e=W.Default){return(function xB(){return Kp}()||W2)(J(n),e)}const K2=L;function Sg(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new O(900,"");let i,s=W.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Q2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function pu(n,e){return n[Dg]=e,n.prototype[Dg]=e,n}function Q2(n){return n[Dg]}const sd=pu(yo("Inject",n=>({token:n})),-1),st=pu(yo("Optional"),8),gu=pu(yo("SkipSelf"),4),VS="__ngContext__";function jt(n,e){n[VS]=e}function Fg(n){const e=function wu(n){return n[VS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Vg(n){return n.ngOriginalError}function jj(n,...e){n.error(...e)}class Eu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Bj(n){return n&&n.ngErrorLogger||jj}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vg(e);for(;t&&Vg(t);)t=Vg(t);return t||null}}const Jj=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function _r(n){return n instanceof Function?n():n}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function Bg(n,e){return undefined(n,e)}function Iu(n){const e=n[3];return Xn(e)?e[3]:e}function jg(n){return WS(n[13])}function $g(n){return WS(n[4])}function WS(n){for(;null!==n&&!Xn(n);)n=n[4];return n}function Io(n,e,t,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:pr(r)&&(o=!0,r=r[0]);const a=Ke(r);0===n&&null!==t?null==i?ZS(e,t,a):rs(e,t,a,i||null,!0):1===n&&null!==t?rs(e,t,a,i||null,!0):2===n?function oC(n,e,t){const r=dd(n,e);r&&function d$(n,e,t,r){Ue(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function p$(n,e,t,r,i){const s=t[7];s!==Ke(t)&&Io(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Tu(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function qg(n,e,t){if(Ue(n))return n.createElement(e,t);{const r=null!==t?function QB(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function QS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ug(i,-1)),t.splice(r,1)}function Gg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&QS(i,r),e>0&&(n[t-1][4]=r[4]);const s=nd(n,10+e);!function r$(n,e){Tu(n,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function YS(n,e){if(!(256&e[2])){const t=e[X];Ue(t)&&t.destroyNode&&Tu(n,e,t,3,null,null),function o$(n){let e=n[13];if(!e)return zg(n[1],n);for(;e;){let t=null;if(pr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)pr(e)&&zg(e[1],e),e=e[3];null===e&&(e=n),pr(e)&&zg(e[1],e),t=e&&e[4]}e=t}}(e)}}function zg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function c$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof iu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function l$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Ke(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ue(e[X])&&e[X].destroy();const t=e[17];if(null!==t&&Xn(e[3])){t!==e[3]&&QS(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function JS(n,e,t){return function XS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Qn.None||i===Qn.Emulated)return null}return Fn(r,t)}(n,e.parent,t)}function rs(n,e,t,r,i){Ue(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function ZS(n,e,t){Ue(n)?n.appendChild(e,t):e.appendChild(t)}function eC(n,e,t,r,i){null!==r?rs(n,e,t,r,i):ZS(n,e,t)}function dd(n,e){return Ue(n)?n.parentNode(e):e.parentNode}let rC=function nC(n,e,t){return 40&n.type?Fn(n,t):null};function hd(n,e,t,r){const i=JS(n,r,e),s=e[X],a=function tC(n,e,t){return rC(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)eC(s,i,t[u],a,!1);else eC(s,i,t,a,!1)}function fd(n,e){if(null!==e){const t=e.type;if(3&t)return Fn(e,n);if(4&t)return Kg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return fd(n,r);{const i=n[e.index];return Xn(i)?Kg(-1,i):Ke(i)}}if(32&t)return Bg(e,n)()||Ke(n[e.index]);{const r=sC(n,e);return null!==r?Array.isArray(r)?r[0]:fd(Iu(n[16]),r):fd(n,e.next)}}return null}function sC(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Kg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return fd(r,i)}return e[7]}function Qg(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&jt(Ke(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Qg(n,e,t.child,r,i,s,!1),Io(e,n,i,a,s);else if(32&u){const l=Bg(t,r);let c;for(;c=l();)Io(e,n,i,c,s);Io(e,n,i,a,s)}else 16&u?aC(n,e,r,t,i,s):Io(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Tu(n,e,t,r,i,s){Qg(t,r,n.firstChild,e,i,s,!1)}function aC(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Io(e,n,i,u[l],s);else Qg(n,e,u,o[3],i,s,!0)}function uC(n,e,t){Ue(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Yg(n,e,t){Ue(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function lC(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const cC="ng-template";function m$(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==lC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function dC(n){return 4===n.type&&n.value!==cC}function y$(n,e,t){return e===(4!==n.type||t?n.value:cC)}function _$(n,e,t){let r=4;const i=n.attrs||[],s=function E$(n){for(let e=0;e<n.length;e++)if(tS(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!y$(n,u,t)||""===u&&1===e.length){if(er(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!m$(n.attrs,l,t)){if(er(r))return!1;o=!0}continue}const d=v$(8&r?"class":u,i,dC(n),t);if(-1===d){if(er(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lC(f,l,0)||2&r&&l!==h){if(er(r))return!1;o=!0}}}}else{if(!o&&!er(r)&&!er(u))return!1;if(o&&er(u))continue;o=!1,r=u|1&r}}return er(r)||o}function er(n){return 0==(1&n)}function v$(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function I$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function hC(n,e,t=!1){for(let r=0;r<e.length;r++)if(_$(n,e[r],t))return!0;return!1}function fC(n,e){return n?":not("+e.trim()+")":e}function b$(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!er(o)&&(e+=fC(s,i),i=""),r=o,s=s||!er(r);t++}return""!==i&&(e+=fC(s,i)),e}const Y={};function gC(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Kc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Qc(e,s,0,t)}pi(t)}function SC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];fg(i),o.contentQueries(2,e[s],s)}}}function bu(n,e,t,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,H0(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[X]=a||n&&n[X],c[12]=u||n&&n[12]||null,c[9]=l||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function To(n,e,t,r,i){let s=n.data[e];if(null===s)s=function um(n,e,t,r,i){const s=G0(),o=lg(),u=n.data[e]=function $$(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function u2(){return z.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ru(){const n=z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function bo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Du(n,e,t){Gc(e);try{const r=n.viewQuery;null!==r&&ym(1,r,t);const i=n.template;null!==i&&CC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SC(n,e),n.staticViewQueries&&ym(2,n.viewQuery,t);const s=n.components;null!==s&&function U$(n,e){for(let t=0;t<e.length;t++)oH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,zc()}}function Do(n,e,t,r){const i=e[2];if(256==(256&i))return;Gc(e);const s=Hc();try{H0(e),function z0(n){return z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&CC(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&Kc(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Qc(e,l,0,null),pg(e,0)}if(function iH(n){for(let e=jg(n);null!==e;e=$g(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&ug(s,1),i[2]|=1024}}}(e),function rH(n){for(let e=jg(n);null!==e;e=$g(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ag(r)&&Do(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&SC(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&Kc(e,l)}else{const l=n.contentHooks;null!==l&&Qc(e,l,1),pg(e,1)}!function L$(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)pi(~i);else{const s=i,o=t[++r],a=t[++r];l2(o,s),a(2,e[s])}}}finally{pi(-1)}}(n,e);const a=n.components;null!==a&&function V$(n,e){for(let t=0;t<e.length;t++)sH(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ym(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&Kc(e,l)}else{const l=n.viewHooks;null!==l&&Qc(e,l,2),pg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ug(e[3],-1))}finally{zc()}}function B$(n,e,t,r){const i=e[10],s=!Hc(),o=function $0(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Du(n,e,r),Do(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function CC(n,e,t,r,i){const s=Yt(),o=2&r;try{pi(-1),o&&e.length>20&&gC(n,e,20,Hc()),t(r,i)}finally{pi(s)}}function xC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=yd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function yd(n,e,t,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function j$(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Y);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function kC(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function OC(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function K$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function FC(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function LC(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Z$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Zn(e)&&(t[""]=n)}}function VC(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function UC(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ts(i.type)),o=new iu(s,Zn(i),null);n.blueprint[r]=o,t[r]=o,OC(n,e,0,r,bo(n,t,i.hostVars,Y),i)}function eH(n,e,t){const r=Fn(e,n),i=xC(t),s=n[10],o=_d(n,bu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function tH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function nH(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function sH(n,e){const t=En(e,n);if(ag(t)){const r=t[1];80&t[2]?Do(r,t,r.template,t[8]):t[5]>0&&fm(t)}}function fm(n){for(let r=jg(n);null!==r;r=$g(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Do(o,s,o.template,s[8])}else s[5]>0&&fm(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=En(t[r],n);ag(i)&&i[5]>0&&fm(i)}}function oH(n,e){const t=En(e,n),r=t[1];(function aH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Du(r,t,t[8])}function _d(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function pm(n){for(;n;){n[2]|=64;const e=Iu(n);if(UB(n)&&!e)return n;n=e}return null}function mm(n,e,t){const r=e[10];r.begin&&r.begin();try{Do(n,e,n.template,t)}catch(i){throw GC(e,i),i}finally{r.end&&r.end()}}function jC(n){!function gm(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Fg(t),i=r[1];B$(i,r,i.template,t)}}(n[8])}function ym(n,e,t){fg(0),e(n,t)}const dH=(()=>Promise.resolve(null))();function $C(n){return n[7]||(n[7]=[])}function HC(n){return n.cleanup||(n.cleanup=[])}function GC(n,e){const t=n[9],r=t?t.get(Eu,null):null;r&&r.handleError(e)}function Hr(n,e,t){const r=function $c(n,e){return Ke(e[n])}(e,n);!function KS(n,e,t){Ue(n)?n.setValue(e,t):e.textContent=t}(n[X],r,t)}function vd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Hp(i,a):2==s&&(r=Hp(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const _m=new se("INJECTOR",-1);class WC{get(e,t=hu){if(t===hu){const r=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw r.name="NullInjectorError",r}return t}}const vm=new se("Set Injector scope."),Su={},pH={};let wm;function KC(){return void 0===wm&&(wm=new WC),wm}function QC(n,e=null,t=null,r){const i=YC(n,e,t,r);return i._resolveInjectorDefTypes(),i}function YC(n,e=null,t=null,r){return new gH(n,t,e||KC(),r)}class gH{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&mr(t,a=>this.processProvider(a,e,t)),mr([e],a=>this.processInjectorType(a,[],s)),this.records.set(_m,So(void 0,this));const o=this.records.get(vm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=hu,r=W.Default){this.assertNotDestroyed();const i=vS(this),s=ci(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function TH(n){return"function"==typeof n||"object"==typeof n&&n instanceof se}(e)&&zp(e);a=u&&this.injectableDefInScope(u)?So(Em(e),Su):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?KC():this.parent).get(e,t=r&W.Optional&&t===hu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[id]=o[id]||[]).unshift(ve(e)),i)throw o;return function Y2(n,e,t,r){const i=n[id];throw e[_S]&&i.unshift(e[_S]),n.message=function J2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ve(e);if(Array.isArray(e))i=e.map(ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(q2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[id]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ci(s),vS(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processInjectorType(e,t,r){if(!(e=J(e)))return!1;let i=x0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=x0(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{mr(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];mr(f,p=>this.processProvider(p,h,f||be))}}this.injectorDefTypes.add(o);const u=ts(o)||(()=>new o);this.records.set(o,So(u,Su));const l=i.providers;if(null!=l&&!a){const c=e;mr(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Co(e=J(e))?e:J(e&&e.provide);const s=function yH(n,e,t){return XC(n)?So(void 0,n.useValue):So(function JC(n,e,t){let r;if(Co(n)){const i=J(n);return ts(i)||Em(i)}if(XC(n))r=()=>J(n.useValue);else if(function vH(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Sg(n.deps||[]));else if(function _H(n){return!(!n||!n.useExisting)}(n))r=()=>L(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function EH(n){return!!n.deps}(n))return ts(i)||Em(i);r=()=>new i(...Sg(n.deps))}return r}(n),Su)}(e);if(Co(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=So(void 0,Su,!0),o.factory=()=>Sg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Su&&(t.value=pH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function IH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Em(n){const e=zp(n),t=null!==e?e.factory:ts(n);if(null!==t)return t;if(n instanceof se)throw new O(204,!1);if(n instanceof Function)return function mH(n){const e=n.length;if(e>0)throw function du(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new O(204,!1);const t=function SB(n){const e=n&&(n[Pc]||n[M0]);if(e){const t=function CB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new O(204,!1)}function So(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function XC(n){return null!==n&&"object"==typeof n&&z2 in n}function Co(n){return"function"==typeof n}let Ct=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return QC({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return QC({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=hu,n.NULL=new WC,n.\u0275prov=te({token:n,providedIn:"any",factory:()=>L(_m)}),n.__NG_ELEMENT_ID__=-1,n})();function NH(n,e){Wc(Fg(n)[1],rt())}function Mo(n,e,t,r){return function $t(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}(n,function lo(){return z.lFrame.bindingIndex++}(),t)?e+Q(t)+r:Y}function U(n,e=W.Default){const t=I();return null===t?L(n,e):uS(rt(),t,J(n),e)}function Nm(){throw new Error("invalid")}function Rm(n,e,t,r,i){const o=i?"class":"style";!function zC(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}(n,t,e.inputs[o],o,r)}function xu(n,e,t,r){const i=I(),s=de(),o=20+n,a=i[X],u=i[o]=qg(a,e,function _2(){return z.lFrame.currentNamespace}()),l=s.firstCreatePass?function dq(n,e,t,r,i,s,o){const a=e.consts,l=To(e,n,2,i,fi(a,s));return function dm(n,e,t,r){let i=!1;if(q0()){const s=function J$(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hC(t,o.selectors,!1)&&(i||(i=[]),ed(ou(t,e),n,o.type),Zn(o)?(LC(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,VC(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=bo(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=Jc(t.mergedAttrs,d.hostAttrs),UC(n,t,e,l,d),Z$(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function H$(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||dC(e)?null:nH(d,s);o.push(h),a=kC(d,l,a),u=kC(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function X$(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Jc(t.mergedAttrs,t.attrs),i}(e,t,l,fi(a,o)),null!==l.attrs&&vd(l,l.attrs,!1),null!==l.mergedAttrs&&vd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];gr(l,!0);const c=l.mergedAttrs;null!==c&&Yc(a,u,c);const d=l.classes;null!==d&&Yg(a,u,d);const h=l.styles;return null!==h&&uC(a,u,h),64!=(64&l.flags)&&hd(s,i,u,l),0===function t2(){return z.lFrame.elementDepthCount}()&&jt(u,i),function n2(){z.lFrame.elementDepthCount++}(),jc(l)&&(function lm(n,e,t){!q0()||(function Q$(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ou(t,e),jt(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Zn(u);l&&eH(e,t,u);const c=au(e,n,a,t);jt(c,e),null!==o&&tH(0,a-i,c,u,0,o),l&&(En(t.index,e)[8]=c)}}(n,e,t,Fn(t,e)),128==(128&t.flags)&&function Y$(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function c2(){return z.lFrame.currentDirectiveIndex}();try{pi(o);for(let u=r;u<i;u++){const l=n.data[u],c=e[u];dg(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&FC(l,c)}}finally{pi(-1),dg(a)}}(n,e,t))}(s,i,l),function AC(n,e,t){if(Zp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&function cm(n,e,t=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,l),xu}function Mu(){let n=rt();lg()?function cg(){z.lFrame.isParent=!1}():(n=n.parent,gr(n,!1));const e=n;!function r2(){z.lFrame.elementDepthCount--}();const t=de();return t.firstCreatePass&&(Wc(t,n),Zp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function T2(n){return 0!=(16&n.flags)}(e)&&Rm(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function b2(n){return 0!=(32&n.flags)}(e)&&Rm(t,e,I(),e.stylesWithoutHost,!1),Mu}function Td(n,e,t,r){return xu(n,e,t,r),Mu(),Td}function bd(n){return!!n&&"function"==typeof n.then}const PA=function kA(n){return!!n&&"function"==typeof n.subscribe};function Nu(n,e,t,r){const i=I(),s=de(),o=rt();return function FA(n,e,t,r,i,s,o,a){const u=jc(r),c=n.firstCreatePass&&HC(n),d=e[8],h=$C(e);let f=!0;if(3&r.type||a){const _=Fn(r,e),v=a?a(_):_,y=h.length,b=a?S=>a(Ke(S[r.index])):r.index;if(Ue(t)){let S=null;if(!a&&u&&(S=function pq(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=Om(r,e,d,s,!1);const P=t.listen(v,i,s);h.push(s,P),c&&c.push(i,b,y,y+1)}}else s=Om(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),c&&c.push(i,b,y,o)}else s=Om(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let v=0;v<_;v+=2){const V=e[g[v]][g[v+1]].subscribe(s),le=h.length;h.push(s,V),c&&c.push(i,r.index,le,-(le+1))}}}(s,i,i[X],o,n,e,!!t,r),Nu}function LA(n,e,t,r){try{return!1!==t(r)}catch(i){return GC(n,i),!1}}function Om(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?En(n.index,e):e;0==(32&e[2])&&pm(a);let u=LA(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=LA(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Vm(n,e=""){const t=I(),r=de(),i=n+20,s=r.firstCreatePass?To(r,i,1,e,null):r.data[i],o=t[i]=function Hg(n,e){return Ue(n)?n.createText(e):n.createTextNode(e)}(t[X],e);hd(r,t,o,s),gr(s,!1)}function Sd(n,e,t){const r=I(),i=Mo(r,n,e,t);return i!==Y&&Hr(r,Yt(),i),Sd}const Cd="en-US";let Mx=Cd;class tM{}class sz{resolveComponentFactory(e){throw function iz(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Lu=(()=>{class n{}return n.NULL=new sz,n})();function oz(){return $o(rt(),I())}function $o(n,e){return new vi(Fn(n,e))}let vi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=oz,n})();class Vu{}let cz=(()=>{class n{}return n.\u0275prov=te({token:n,providedIn:"root",factory:()=>null}),n})();class Uu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rM=new Uu("13.3.0"),Gm={};function kd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ke(s)),Xn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&kd(u[1],u,l,r)}const o=t.type;if(8&o)kd(n,e,t.child,r);else if(32&o){const a=Bg(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=sC(e,t);if(Array.isArray(a))r.push(...a);else{const u=Iu(e[16]);kd(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Bu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return kd(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Gg(e,r),nd(t,r))}this._attachedToViewContainer=!1}YS(this._lView[1],this._lView)}onDestroy(e){!function RC(n,e,t,r){const i=$C(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&HC(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function lH(n,e,t){qc(!0);try{mm(n,e,t)}finally{qc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new O(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s$(n,e){Tu(n,e,e[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,"");this._appRef=e}}class dz extends Bu{constructor(e){super(e),this._view=e}detectChanges(){jC(this._view)}checkNoChanges(){!function cH(n){qc(!0);try{jC(n)}finally{qc(!1)}}(this._view)}get context(){return null}}class iM extends Lu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ut(e);return new zm(t,this.ngModule)}}function sM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class zm extends tM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function D$(n){return n.map(b$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return sM(this.componentDef.inputs)}get outputs(){return sM(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function fz(n,e){return{get:(t,r,i)=>{const s=n.get(t,Gm,i);return s!==Gm||r===Gm?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Vu,j0),a=s.get(cz,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function NC(n,e,t){if(Ue(n))return n.selectRootElement(e,t===Qn.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):qg(o.createRenderer(null,this.componentDef),l,function hz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function lA(n,e){return{components:[],scheduler:n||Jj,clean:dH,playerHandler:e||null,flags:0}}(),f=yd(0,null,null,1,0,null,null,null,null,null),p=bu(null,f,h,d,null,null,o,u,a,s);let g,_;Gc(p);try{const v=function aA(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=To(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(vd(u,l,!0),null!==n&&(Yc(i,n,l),null!==u.classes&&Yg(i,n,u.classes),null!==u.styles&&uC(i,n,u.styles)));const c=r.createRenderer(n,e),d=bu(t,xC(e),null,e.onPush?64:16,t[20],u,r,c,s||null,null);return o.firstCreatePass&&(ed(ou(u,t),o,e.type),LC(o,u),VC(u,t.length,1)),_d(t,d),t[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)Yc(u,c,["ng-version",rM.full]);else{const{attrs:y,classes:b}=function S$(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!er(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Yc(u,c,y),b&&b.length>0&&Yg(u,c,b.join(" "))}if(_=function og(n,e){return n.data[e]}(f,20),void 0!==t){const y=_.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const S=t[b];y.push(null!=S?Array.from(S):null)}}g=function uA(n,e,t,r,i){const s=t[1],o=function W$(n,e,t){const r=rt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),UC(n,r,e,bo(n,e,1,null),t));const i=au(e,n,r.directiveStart,r);jt(i,e);const s=Fn(r,e);return s&&jt(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=rt();e.contentQueries(1,o,u.directiveStart)}const a=rt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pi(a.index),OC(t[1],a,0,a.directiveStart,a.directiveEnd,e),FC(e,o)),o}(v,this.componentDef,p,h,[NH]),Du(f,p,null)}finally{zc()}return new gz(this.componentType,g,$o(_,p),p,_)}}class gz extends class rz{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new dz(i),this.componentType=e}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qr{}class oM{}const Ho=new Map;class lM extends qr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iM(this);const r=kn(e);this._bootstrapComponents=_r(r.bootstrap),this._r3Injector=YC(e,t,[{provide:qr,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ct.THROW_IF_NOT_FOUND,r=W.Default){return e===Ct||e===qr||e===_m?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wm extends oM{constructor(e){super(),this.moduleType=e,null!==kn(e)&&function yz(n){const e=new Set;!function t(r){const i=kn(r,!0),s=i.id;null!==s&&(function aM(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ve(e)} vs ${ve(e.name)}`)}(s,Ho.get(s),r),Ho.set(s,r));const o=_r(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new lM(this.moduleType,e)}}function Km(n){return e=>{setTimeout(n,void 0,e)}}const Zt=class Oz extends Pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Km(u),a&&(a=Km(a)),l&&(l=Km(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof yn&&e.add(c),c}};Symbol;let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bz,n})();function Bz(){return function yM(n,e){let t;const r=e[n.index];if(Xn(r))t=r;else{let i;if(8&n.type)i=Ke(r);else{const s=e[X];i=s.createComment("");const o=Fn(n,e);rs(s,dd(s,o),i,function h$(n,e){return Ue(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=function BC(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}(r,e,i,n),_d(e,t)}return new gM(t,n,e)}(rt(),I())}const jz=sr,gM=class extends jz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zc(this._hostTNode,this._hostLView);if(rS(e)){const t=ho(e,this._hostLView),r=co(e);return new fo(t[1].data[r+8],t)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=mM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function cu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new zm(Ut(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(qr,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function e2(n){return Xn(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new gM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function a$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],fS(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function u$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Kg(s,o),u=r[X],l=dd(u,o[7]);return null!==l&&function i$(n,e,t,r,i,s){r[0]=i,r[6]=e,Tu(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),fS(Ym(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=mM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);r&&(nd(Ym(this._lContainer),t),YS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);return r&&null!=nd(Ym(this._lContainer),t)?new Bu(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function mM(n){return n[8]}function Ym(n){return n[8]||(n[8]=[])}function Ld(...n){}const cy=new se("Application Initializer");let dy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ld,this.reject=Ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(bd(s))t.push(s);else if(PA(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(L(cy,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qu=new se("AppId",{providedIn:"root",factory:function UM(){return`${hy()}${hy()}${hy()}`}});function hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BM=new se("Platform Initializer"),Gu=new se("Platform ID"),jM=new se("appBootstrapListener");let $M=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const wi=new se("LocaleId",{providedIn:"root",factory:()=>K2(wi,W.Optional|W.SkipSelf)||function pW(){return"undefined"!=typeof $localize&&$localize.locale||Cd}()});class mW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let HM=(()=>{class n{compileModuleSync(t){return new Wm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=_r(kn(t).declarations).reduce((o,a)=>{const u=Ut(a);return u&&o.push(new zm(u)),o},[]);return new mW(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _W=(()=>Promise.resolve(0))();function fy(n){"undefined"==typeof Zone?_W.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zt(!1),this.onMicrotaskEmpty=new Zt(!1),this.onStable=new Zt(!1),this.onError=new Zt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vW(){let n=Ie.requestAnimationFrame,e=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function IW(n){const e=()=>{!function EW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ie,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gy(n),n.isCheckStableRunning=!0,py(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return qM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),GM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return qM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),GM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,gy(n),py(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wW,Ld,Ld);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const wW={};function py(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GM(n){n._nesting--,py(n)}class TW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zt,this.onMicrotaskEmpty=new Zt,this.onStable=new Zt,this.onError=new Zt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let my=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Oe))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),zM=(()=>{class n{constructor(){this._applications=new Map,yy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class bW{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let or,yy=new bW;const WM=new se("AllowMultipleToken");class KM{constructor(e,t){this.name=e,this.token=t}}function QM(n,e,t=[]){const r=`Platform: ${e}`,i=new se(r);return(s=[])=>{let o=YM();if(!o||o.injector.get(WM,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:vm,useValue:"platform"});!function AW(n){if(or&&!or.destroyed&&!or.injector.get(WM,!1))throw new O(400,"");or=n.get(JM);const e=n.get(BM,null);e&&e.forEach(t=>t())}(Ct.create({providers:a,name:r}))}return function xW(n){const e=YM();if(!e)throw new O(401,"");return e}()}}function YM(){return or&&!or.destroyed?or:null}let JM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function MW(n,e){let t;return t="noop"===n?new TW:("zone.js"===n?void 0:n)||new Oe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Oe,useValue:a}];return a.run(()=>{const l=Ct.create({providers:u,parent:this.injector,name:t.moduleType.name}),c=t.create(l),d=c.injector.get(Eu,null);if(!d)throw new O(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{vy(this._modules,c),h.unsubscribe()})}),function NW(n,e,t){try{const r=t();return bd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(dy);return h.runInitializers(),h.donePromise.then(()=>(function aG(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(Mx=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(wi,Cd)||Cd),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=XM({},r);return function SW(n,e,t){const r=new Wm(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(_y);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new O(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(Ct))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function XM(n,e){return Array.isArray(e)?e.reduce(XM,n):Object.assign(Object.assign({},n),e)}let _y=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ve(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new Ve(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),fy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function vB(...n){const e=Xa(n),t=function hB(n,e){return"number"==typeof Bp(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Or(r[0]):Ja(t)(St(r,e)):Lr}(a,u.pipe(function wB(n={}){const{connector:e=(()=>new Pr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return bt((g,_)=>{l++,!d&&!c&&h();const v=u=null!=u?u:e();_.add(()=>{l--,0===l&&!d&&!c&&(a=jp(p,i))}),v.subscribe(_),o||(o=new Ac({next:y=>v.next(y),error:y=>{d=!0,h(),a=jp(f,t,y),v.error(y)},complete:()=>{c=!0,h(),a=jp(f,r),v.complete()}}),St(g).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new O(405,"");let i;i=t instanceof tM?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function CW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(qr),a=i.create(Ct.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(my,null),c=l&&a.injector.get(zM);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),vy(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new O(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;vy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jM,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(L(Oe),L(Ct),L(Eu),L(Lu),L(dy))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let eN=!0,wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=PW,n})();function PW(n){return function OW(n,e,t){if(Bc(n)&&!t){const r=En(n.index,e);return new Bu(r,r)}return 47&n.type?new Bu(e[16],e):null}(rt(),I(),16==(16&n))}const KW=QM(null,"core",[{provide:Gu,useValue:"unknown"},{provide:JM,deps:[Ct]},{provide:zM,deps:[]},{provide:$M,deps:[]}]);let QW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(_y))},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({}),n})(),jd=null;function Ei(){return jd}const cn=new se("DocumentToken");let as=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:function(){return function ZW(){return L(dN)}()},providedIn:"platform"}),n})();const e3=new se("Location Initialized");let dN=(()=>{class n extends as{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ei().getBaseHref(this._doc)}onPopState(t){const r=Ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){hN()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){hN()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(L(cn))},n.\u0275prov=te({token:n,factory:function(){return function t3(){return new dN(L(cn))}()},providedIn:"platform"}),n})();function hN(){return!!window.history.pushState}function Dy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function fN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function zr(n){return n&&"?"!==n[0]?"?"+n:n}let Go=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:function(){return function n3(n){const e=L(cn).location;return new pN(L(as),e&&e.origin||"")}()},providedIn:"root"}),n})();const Sy=new se("appBaseHref");let pN=(()=>{class n extends Go{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Dy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(as),L(Sy,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),r3=(()=>{class n extends Go{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Dy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(as),L(Sy,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),Cy=(()=>{class n{constructor(t,r){this._subject=new Zt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=fN(gN(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+zr(r))}normalize(t){return n.stripTrailingSlash(function s3(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,gN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zr(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=zr,n.joinWithSlash=Dy,n.stripTrailingSlash=fN,n.\u0275fac=function(t){return new(t||n)(L(Go),L(as))},n.\u0275prov=te({token:n,factory:function(){return function i3(){return new Cy(L(Go),L(as))}()},providedIn:"root"}),n})();function gN(n){return n.replace(/\/index.html$/,"")}let EK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({}),n})();let DK=(()=>{class n{}return n.\u0275prov=te({token:n,providedIn:"root",factory:()=>new SK(L(cn),window)}),n})();class SK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function CK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xN(this.window.history)||xN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function xN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jy extends class xK extends class XW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function JW(n){jd||(jd=n)}(new jy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function MK(){return Qu=Qu||document.querySelector("base"),Qu?Qu.getAttribute("href"):null}();return null==t?null:function NK(n){Jd=Jd||document.createElement("a"),Jd.setAttribute("href",n);const e=Jd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $3(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Jd,Qu=null;const MN=new se("TRANSITION_ID"),kK=[{provide:cy,useFactory:function RK(n,e,t){return()=>{t.get(dy).donePromise.then(()=>{const r=Ei(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[MN,cn,Ct],multi:!0}];class $y{static init(){!function DW(n){yy=n}(new $y)}addToWindow(e){Ie.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ei().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let PK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const Xd=new se("EventManagerPlugins");let Zd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(L(Xd),L(Oe))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class NN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ei().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let RN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),Yu=(()=>{class n extends RN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(kN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(kN))}}return n.\u0275fac=function(t){return new(t||n)(L(cn))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function kN(n){Ei().remove(n)}const Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qy=/%COMP%/g;function eh(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?eh(n,i,t):(i=i.replace(qy,n),t.push(i))}return t}function FN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let th=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Gy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Qn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new BK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Qn.ShadowDom:return new jK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=eh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(L(Zd),L(Yu),L(qu))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class Gy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Hy[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(t,r,i&Tn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FN(r)):this.eventManager.addEventListener(e,t,FN(r))}}class BK extends Gy{constructor(e,t,r,i){super(e),this.component=r;const s=eh(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function LK(n){return"_ngcontent-%COMP%".replace(qy,n)}(i+"-"+r.id),this.hostAttr=function VK(n){return"_nghost-%COMP%".replace(qy,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jK extends Gy{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=eh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $K=(()=>{class n extends NN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(L(cn))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const VN=["alt","control","meta","shift"],qK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},GK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zK=(()=>{class n extends NN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ei().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(VN.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function WK(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&UN.hasOwnProperty(e)&&(e=UN[e]))}return qK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),VN.forEach(s=>{s!=i&&GK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(cn))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const JK=QM(KW,"browser",[{provide:Gu,useValue:"browser"},{provide:BM,useValue:function KK(){jy.makeCurrent(),$y.init()},multi:!0},{provide:cn,useFactory:function YK(){return function YB(n){ig=n}(document),document},deps:[]}]),XK=[{provide:vm,useValue:"root"},{provide:Eu,useFactory:function QK(){return new Eu},deps:[]},{provide:Xd,useClass:$K,multi:!0,deps:[cn,Oe,Gu]},{provide:Xd,useClass:zK,multi:!0,deps:[cn]},{provide:th,useClass:th,deps:[Zd,Yu,qu]},{provide:Vu,useExisting:th},{provide:RN,useExisting:Yu},{provide:Yu,useClass:Yu,deps:[cn]},{provide:my,useClass:my,deps:[Oe]},{provide:Zd,useClass:Zd,deps:[Xd,Oe]},{provide:class AK{},useClass:PK,deps:[]}];let BN=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:qu,useValue:t.appId},{provide:MN,useExisting:qu},kK]}}}return n.\u0275fac=function(t){return new(t||n)(L(n,12))},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({providers:XK,imports:[EK,QW]}),n})();function ee(...n){return St(n,Xa(n))}"undefined"!=typeof window&&window;class lr extends Pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:l8}=Array,{getPrototypeOf:c8,prototype:d8,keys:h8}=Object;const{isArray:g8}=Array;function v8(...n){const e=Xa(n),t=function dB(n){return De(Bp(n))?n.pop():void 0}(n),{args:r,keys:i}=function f8(n){if(1===n.length){const e=n[0];if(l8(e))return{args:e,keys:null};if(function p8(n){return n&&"object"==typeof n&&c8(n)===d8}(e)){const t=h8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return St([],e);const s=new Ve(function w8(n,e,t=Qi){return r=>{HN(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)HN(e,()=>{const l=St(n[u],e);let c=!1;l.subscribe(Dt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function _8(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,o):Qi));return t?s.pipe(function y8(n){return Ee(e=>function m8(n,e){return g8(e)?n(...e):n(e)}(n,e))}(t)):s}function HN(n,e,t){n?Fr(t,n,e):e()}function nh(n,e){const t=De(n)?n:()=>n,r=i=>i.error(t());return new Ve(e?i=>e.schedule(r,0,i):r)}const rh=Ya(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wy(...n){return function E8(){return Ja(1)}()(St(n,Xa(n)))}function qN(n){return new Ve(e=>{Or(n()).subscribe(e)})}function GN(){return bt((n,e)=>{let t=null;n._refCount++;const r=Dt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class I8 extends Ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,d0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yn;const t=this.getSubject();e.add(this.source.subscribe(Dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yn.EMPTY)}return e}refCount(){return GN()(this)}}function us(n,e){return bt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Dt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;Or(n(u,c)).subscribe(i=Dt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function b8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(Dt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function zN(n,e){return bt(b8(n,e,arguments.length>=2,!0))}function zo(n,e){return bt((t,r)=>{let i=0;t.subscribe(Dt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ti(n){return bt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Dt(t,void 0,void 0,o=>{s=Or(n(o,Ti(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ju(n,e){return De(e)?ht(n,e,1):ht(n,1)}function Ky(n){return n<=0?()=>Lr:bt((e,t)=>{let r=[];e.subscribe(Dt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function WN(n=D8){return bt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function D8(){return new rh}function KN(n){return bt((e,t)=>{let r=!1;e.subscribe(Dt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zo((i,s)=>n(i,s,r)):Qi,Rc(1),t?KN(e):WN(()=>new rh))}function hn(n,e,t){const r=De(n)||e||t?{next:n,error:e,complete:t}:n;return r?bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Dt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Qi}class Kr{constructor(e,t){this.id=e,this.url=t}}class Qy extends Kr{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xu extends Kr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class QN extends Kr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class A8 extends Kr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x8 extends Kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M8 extends Kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N8 extends Kr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R8 extends Kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k8 extends Kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class V8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ko(n){return new V8(n)}const ZN="ngNavigationCancelingError";function Yy(n){const e=Error("NavigationCancelingError: "+n);return e[ZN]=!0,e}function B8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Tr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!eR(n[i],e[i]))return!1;return!0}function eR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function tR(n){return Array.prototype.concat.apply([],n)}function nR(n){return n.length>0?n[n.length-1]:null}function At(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function br(n){return PA(n)?n:bd(n)?St(Promise.resolve(n)):ee(n)}const H8={exact:function sR(n,e,t){if(!cs(n.segments,e.segments)||!ih(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sR(n.children[r],e.children[r],t))return!1;return!0},subset:oR},rR={exact:function q8(n,e){return Tr(n,e)},subset:function G8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eR(n[t],e[t]))},ignored:()=>!0};function iR(n,e,t){return H8[t.paths](n.root,e.root,t.matrixParams)&&rR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oR(n,e,t){return aR(n,e,e.segments,t)}function aR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!cs(i,t)||e.hasChildren()||!ih(i,t,r))}if(n.segments.length===t.length){if(!cs(n.segments,t)||!ih(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!oR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(cs(n.segments,i)&&ih(n.segments,i,r)&&n.children[re])&&aR(n.children[re],e,s,r)}}function ih(n,e,t){return e.every((r,i)=>rR[t](n[i].parameters,r.parameters))}class ls{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return K8.serialize(this)}}class ae{constructor(e,t){this.segments=e,this.children=t,this.parent=null,At(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sh(this)}}class Zu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ko(this.parameters)),this._parameterMap}toString(){return hR(this)}}function cs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class uR{}class lR{parse(e){const t=new r4(e);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${el(e.root,!0)}`,r=function J8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${oh(t)}=${oh(i)}`).join("&"):`${oh(t)}=${oh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Q8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const K8=new lR;function sh(n){return n.segments.map(e=>hR(e)).join("/")}function el(n,e){if(!n.hasChildren())return sh(n);if(e){const t=n.children[re]?el(n.children[re],!1):"",r=[];return At(n.children,(i,s)=>{s!==re&&r.push(`${s}:${el(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function W8(n,e){let t=[];return At(n.children,(r,i)=>{i===re&&(t=t.concat(e(r,i)))}),At(n.children,(r,i)=>{i!==re&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===re?[el(n.children[re],!1)]:[`${i}:${el(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[re]?`${sh(n)}/${t[0]}`:`${sh(n)}/(${t.join("//")})`}}function cR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oh(n){return cR(n).replace(/%3B/gi,";")}function Jy(n){return cR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ah(n){return decodeURIComponent(n)}function dR(n){return ah(n.replace(/\+/g,"%20"))}function hR(n){return`${Jy(n.path)}${function Y8(n){return Object.keys(n).map(e=>`;${Jy(e)}=${Jy(n[e])}`).join("")}(n.parameters)}`}const X8=/^[^\/()?;=#]+/;function uh(n){const e=n.match(X8);return e?e[0]:""}const Z8=/^[^=?&#]+/,t4=/^[^&#]+/;class r4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new ae(e,t)),r}parseSegment(){const e=uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zu(ah(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uh(this.remaining);i&&(r=i,this.capture(r))}e[ah(t)]=ah(r)}parseQueryParam(e){const t=function e4(n){const e=n.match(Z8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function n4(n){const e=n.match(t4);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=dR(t),s=dR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[re]:new ae([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class fR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Zy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zy(e,this._root).map(t=>t.value)}}function Xy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xy(n,t);if(r)return r}return null}function Zy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Zy(n,t);if(r.length)return r.unshift(e),r}return[]}class Qr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pR extends fR{constructor(e,t){super(e),this.snapshot=t,e_(this,e)}toString(){return this.snapshot.toString()}}function gR(n,e){const t=function i4(n,e){const o=new lh([],{},{},"",{},re,e,null,n.root,-1,{});return new yR("",new Qr(o,[]))}(n,e),r=new lr([new Zu("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Yo(r,i,o,a,s,re,e,t.root);return u.snapshot=t.root,new pR(new Qr(u,[]),t)}class Yo{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>Ko(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>Ko(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function s4(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lh{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yR extends fR{constructor(e,t){super(t),this.url=e,e_(this,t)}toString(){return _R(this._root)}}function e_(n,e){e.value._routerState=n,e.children.forEach(t=>e_(n,t))}function _R(n){const e=n.children.length>0?` { ${n.children.map(_R).join(", ")} } `:"";return`${n.value}${e}`}function t_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Tr(e.params,t.params)||n.params.next(t.params),function j8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Tr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function n_(n,e){const t=Tr(n.params,e.params)&&function z8(n,e){return cs(n,e)&&n.every((t,r)=>Tr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||n_(n.parent,e.parent))}function tl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function a4(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return tl(n,r,i);return tl(n,r)})}(n,e,t);return new Qr(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>tl(n,a)),o}}const r=function u4(n){return new Yo(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>tl(n,s));return new Qr(r,i)}}function ch(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nl(n){return"object"==typeof n&&null!=n&&n.outlets}function r_(n,e,t,r,i){let s={};if(r&&At(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),n===e)return new ls(t,s,i);const o=vR(n,e,t);return new ls(o,s,i)}function vR(n,e,t){const r={};return At(n.children,(i,s)=>{r[s]=i===e?t:vR(i,e,t)}),new ae(n.segments,r)}class wR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ch(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(nl);if(i&&i!==nR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class i_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ER(n,e,t){if(n||(n=new ae([],{})),0===n.segments.length&&n.hasChildren())return dh(n,e,t);const r=function p4(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(nl(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!TR(u,l,o))return s;r+=2}else{if(!TR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ae(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new ae(n.segments.slice(r.pathIndex),n.children),dh(s,0,i)}return r.match&&0===i.length?new ae(n.segments,{}):r.match&&!n.hasChildren()?s_(n,e,t):r.match?dh(n,0,i):s_(n,e,t)}function dh(n,e,t){if(0===t.length)return new ae(n.segments,{});{const r=function f4(n){return nl(n[0])?n[0].outlets:{[re]:n}}(t),i={};return At(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ER(n.children[o],e,s))}),At(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ae(n.segments,i)}}function s_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(nl(s)){const u=g4(s.outlets);return new ae(r,u)}if(0===i&&ch(t[0])){r.push(new Zu(n.segments[e].path,IR(t[0]))),i++;continue}const o=nl(s)?s.outlets[re]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ch(a)?(r.push(new Zu(o,IR(a))),i+=2):(r.push(new Zu(o,{})),i++)}return new ae(r,{})}function g4(n){const e={};return At(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=s_(new ae([],{}),0,t))}),e}function IR(n){const e={};return At(n,(t,r)=>e[r]=`${t}`),e}function TR(n,e,t){return n==t.path&&Tr(e,t.parameters)}class y4{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qo(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),At(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qo(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new L8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new O8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(t_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),t_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function _4(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o_{constructor(e,t){this.routes=e,this.module=t}}function bi(n){return"function"==typeof n}function ds(n){return n instanceof ls}const rl=Symbol("INITIAL_VALUE");function il(){return us(n=>v8(n.map(e=>e.pipe(Rc(1),function T8(...n){const e=Xa(n);return bt((t,r)=>{(e?Wy(n,t,e):Wy(n,t)).subscribe(r)})}(rl)))).pipe(zN((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==rl?i:(s===rl&&(r=!0),r||!1!==s&&o!==t.length-1&&!ds(s)?i:s),e)},rl),zo(e=>e!==rl),Ee(e=>ds(e)?e:!0===e),Rc(1)))}class b4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sl,this.attachRef=null}}class sl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new b4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let a_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Zt,this.deactivateEvents=new Zt,this.attachEvents=new Zt,this.detachEvents=new Zt,this.name=s||re,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new D4(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(U(sl),U(sr),U(Lu),function uu(n){return function A2(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(tS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(rt(),n)}("name"),U(wy))},n.\u0275dir=Vt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class D4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yo?this.route:e===sl?this.childContexts:this.parent.get(e,t)}}let bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fc({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Td(0,"router-outlet")},directives:[a_],encapsulation:2}),n})();function DR(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];S4(r,C4(e,r))}}function S4(n,e){n.children&&DR(n.children,e)}function C4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function u_(n){const e=n.children&&n.children.map(u_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=bR),t}function jn(n){return n.outlet||re}function SR(n,e){const t=n.filter(r=>jn(r)===e);return t.push(...n.filter(r=>jn(r)!==e)),t}const CR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},CR):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||B8)(t,n,e);if(!s)return Object.assign({},CR);const o={};At(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function fh(n,e,t,r,i="corrected"){if(t.length>0&&function M4(n,e,t){return t.some(r=>ph(n,e,r)&&jn(r)!==re)}(n,t,r)){const o=new ae(e,function x4(n,e,t,r){const i={};i[re]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&jn(s)!==re){const o=new ae([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[jn(s)]=o}return i}(n,e,r,new ae(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function N4(n,e,t){return t.some(r=>ph(n,e,r))}(n,t,r)){const o=new ae(n.segments,function A4(n,e,t,r,i,s){const o={};for(const a of r)if(ph(n,t,a)&&!i[jn(a)]){const u=new ae([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[jn(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ae(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ph(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AR(n,e,t,r){return!!(jn(n)===r||r!==re&&ph(e,t,n))&&("**"===n.path||hh(e,n,t).matched)}function xR(n,e,t){return 0===e.length&&!n.children[t]}class gh{constructor(e){this.segmentGroup=e||null}}class MR{constructor(e){this.urlTree=e}}function ol(n){return nh(new gh(n))}function NR(n){return nh(new MR(n))}class O4{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=fh(this.urlTree.root,[],[],this.config).segmentGroup,t=new ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,re).pipe(Ee(s=>this.createUrlTree(l_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ti(s=>{if(s instanceof MR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof gh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(Ee(i=>this.createUrlTree(l_(i),e.queryParams,e.fragment))).pipe(Ti(i=>{throw i instanceof gh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ae([],{[re]:e}):e;return new ls(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ee(s=>new ae([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return St(i).pipe(Ju(s=>{const o=r.children[s],a=SR(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ee(u=>({segment:u,outlet:s})))}),zN((s,o)=>(s[o.outlet]=o.segment,s),{}),function S8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zo((i,s)=>n(i,s,r)):Qi,Ky(1),t?KN(e):WN(()=>new rh))}())}expandSegment(e,t,r,i,s,o){return St(r).pipe(Ju(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Ti(l=>{if(l instanceof gh)return ee(null);throw l}))),Wo(a=>!!a),Ti((a,u)=>{if(a instanceof rh||"EmptyError"===a.name)return xR(t,i,s)?ee(new ae([],{})):ol(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return AR(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):ol(t):ol(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NR(s):this.lineralizeSegments(r,s).pipe(ht(o=>{const a=new ae(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=hh(t,i,s);if(!a)return ol(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?NR(d):this.lineralizeSegments(i,d).pipe(ht(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ee(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ee(d=>(r._loadedConfig=d,new ae(i,{})))):ee(new ae(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=hh(t,r,i);return o?this.getChildConfig(e,r,i).pipe(ht(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=fh(t,a,u,h),g=new ae(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(Ee(b=>new ae(a,b)));if(0===h.length&&0===p.length)return ee(new ae(a,{}));const _=jn(r)===s;return this.expandSegment(d,g,h,p,_?re:s,!0).pipe(Ee(y=>new ae(a.concat(y.segments),y.children)))})):ol(t)}getChildConfig(e,t,r){return t.children?ee(new o_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ee(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(ht(i=>i?this.configLoader.load(e.injector,t).pipe(Ee(s=>(t._loadedConfig=s,s))):function k4(n){return nh(Yy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ee(new o_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ee(i.map(o=>{const a=e.get(o);let u;if(function w4(n){return n&&bi(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!bi(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return br(u)})).pipe(il(),hn(o=>{if(!ds(o))return;const a=Yy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ee(o=>!0===o)):ee(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[re])return nh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ls(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return At(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return At(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ae(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function l_(n){const e={};for(const r of Object.keys(n.children)){const s=l_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function F4(n){if(1===n.numberOfChildren&&n.children[re]){const e=n.children[re];return new ae(n.segments.concat(e.segments),e.children)}return n}(new ae(n.segments,e))}class RR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mh{constructor(e,t){this.component=e,this.route=t}}function V4(n,e,t){const r=n._root;return al(r,e?e._root:null,t,[r.value])}function yh(n,e,t){const r=function B4(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function al(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qo(e);return n.children.forEach(o=>{(function j4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function $4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cs(n.url,e.url)||!Tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(n,e)||!Tr(n.queryParams,e.queryParams);default:return!n_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new RR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),al(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mh(a.outlet.component,o))}else o&&ul(e,a,i),i.canActivateChecks.push(new RR(r)),al(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),At(s,(o,a)=>ul(o,t.getContext(a),i)),i}function ul(n,e,t){const r=Qo(n),i=n.value;At(r,(s,o)=>{ul(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new mh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class J4{}function kR(n){return new Ve(e=>e.error(n))}class Z4{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=fh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,re);if(null===t)return null;const r=new lh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qr(r,t),s=new yR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=mR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=SR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=PR(r);return function e6(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return xR(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!AR(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?nR(r).parameters:{};s=new lh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LR(e),jn(e),e.component,e,OR(t),FR(t)+r.length,VR(e))}else{const f=hh(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new lh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LR(e),jn(e),e.component,e,OR(t),FR(t)+o.length,VR(e))}const u=function t6(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=fh(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new Qr(s,f)]}if(0===u.length&&0===c.length)return[new Qr(s,[])];const d=jn(e)===i,h=this.processSegment(u,l,c,d?re:i);return null===h?null:[new Qr(s,h)]}}function n6(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PR(n){const e=[],t=new Set;for(const r of n){if(!n6(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=PR(r.children);e.push(new Qr(r.value,i))}return e.filter(r=>!t.has(r))}function OR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function FR(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function LR(n){return n.data||{}}function VR(n){return n.resolve||{}}function UR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function c_(n){return us(e=>{const t=n(e);return t?St(t).pipe(Ee(()=>e)):ee(e)})}class c6 extends class l6{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const d_=new se("ROUTES");class BR{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new o_(tR(o.injector.get(d_,void 0,W.Self|W.Optional)).map(u_),o)}),Ti(s=>{throw t._loader$=void 0,s}));return t._loader$=new I8(i,()=>new Pr).pipe(GN()),t._loader$}loadModuleFactory(e){return br(e()).pipe(ht(t=>t instanceof oM?ee(t):St(this.compiler.compileModuleAsync(t))))}}class h6{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function f6(n){throw n}function p6(n,e,t){return e.parse("/")}function jR(n,e){return ee(null)}const g6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr,this.errorHandler=f6,this.malformedUriErrorHandler=p6,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jR,afterPreactivation:jR},this.urlHandlingStrategy=new h6,this.routeReuseStrategy=new c6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qr),this.console=o.get($M);const d=o.get(Oe);this.isNgZoneEnabled=d instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function $8(){return new ls(new ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new BR(o,a,h=>this.triggerEvent(new YN(h)),h=>this.triggerEvent(new JN(h))),this.routerState=gR(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zo(i=>0!==i.id),Ee(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),us(i=>{let s=!1,o=!1;return ee(i).pipe(hn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),us(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $R(a.source)&&(this.browserUrlTree=a.extractedUrl),ee(a).pipe(us(d=>{const h=this.transitions.getValue();return r.next(new Qy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Lr:Promise.resolve(d)}),function L4(n,e,t,r){return us(i=>function P4(n,e,t,r,i){return new O4(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ee(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),hn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function r6(n,e,t,r,i){return ht(s=>function X4(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Z4(n,e,t,r,i,s).recognize();return null===o?kR(new J4):ee(o)}catch(o){return kR(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ee(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),hn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new x8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,v=new Qy(h,this.serializeUrl(f),p,g);r.next(v);const y=gR(f,this.rootComponentType).snapshot;return ee(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Lr}),c_(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),hn(a=>{const u=new M8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ee(a=>Object.assign(Object.assign({},a),{guards:V4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function H4(n,e){return ht(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ee(Object.assign(Object.assign({},t),{guardsResult:!0})):function q4(n,e,t,r){return St(n).pipe(ht(i=>function Y4(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=yh(a,e,i);let l;if(function T4(n){return n&&bi(n.canDeactivate)}(u))l=br(u.canDeactivate(n,e,t,r));else{if(!bi(u))throw new Error("Invalid CanDeactivate guard");l=br(u(n,e,t,r))}return l.pipe(Wo())})).pipe(il()):ee(!0)}(i.component,i.route,t,e,r)),Wo(i=>!0!==i,!0))}(o,r,i,n).pipe(ht(a=>a&&function v4(n){return"boolean"==typeof n}(a)?function G4(n,e,t,r){return St(e).pipe(Ju(i=>Wy(function W4(n,e){return null!==n&&e&&e(new P8(n)),ee(!0)}(i.route.parent,r),function z4(n,e){return null!==n&&e&&e(new F8(n)),ee(!0)}(i.route,r),function Q4(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function U4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>qN(()=>ee(o.guards.map(u=>{const l=yh(u,o.node,t);let c;if(function I4(n){return n&&bi(n.canActivateChild)}(l))c=br(l.canActivateChild(r,n));else{if(!bi(l))throw new Error("Invalid CanActivateChild guard");c=br(l(r,n))}return c.pipe(Wo())})).pipe(il())));return ee(s).pipe(il())}(n,i.path,t),function K4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>qN(()=>{const o=yh(s,e,t);let a;if(function E4(n){return n&&bi(n.canActivate)}(o))a=br(o.canActivate(e,n));else{if(!bi(o))throw new Error("Invalid CanActivate guard");a=br(o(e,n))}return a.pipe(Wo())}));return ee(i).pipe(il())}(n,i.route,t))),Wo(i=>!0!==i,!0))}(r,s,n,e):ee(a)),Ee(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),hn(a=>{if(ds(a.guardsResult)){const l=Yy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new N8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),zo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),c_(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(hn(u=>{const l=new R8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),us(u=>{let l=!1;return ee(u).pipe(function i6(n,e){return ht(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let s=0;return St(i).pipe(Ju(o=>function s6(n,e,t,r){return function o6(n,e,t,r){const i=UR(n);if(0===i.length)return ee({});const s={};return St(i).pipe(ht(o=>function a6(n,e,t,r){const i=yh(n,e,r);return br(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(hn(a=>{s[o]=a}))),Ky(1),ht(()=>UR(s).length===i.length?ee(s):Lr))}(n._resolve,n,e,r).pipe(Ee(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),mR(n,t).resolve),null)))}(o.route,r,n,e)),hn(()=>s++),Ky(1),ht(o=>s===i.length?ee(t):Lr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),hn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),hn(u=>{const l=new k8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),c_(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ee(a=>{const u=function o4(n,e,t){const r=tl(n,e._root,t?t._root:void 0);return new pR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),hn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ee(r=>(new y4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),hn({next(){s=!0},complete(){s=!0}}),function C8(n){return bt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ti(a=>{if(o=!0,function U8(n){return n&&n[ZN]}(a)){const u=ds(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new QN(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$R(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new A8(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Lr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){DR(t),this.config=t.map(u_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function l4(n,e,t,r,i){if(0===t.length)return r_(e.root,e.root,e.root,r,i);const s=function c4(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return At(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new wR(t,e,r)}(t);if(s.toRoot())return r_(e.root,e.root,new ae([],{}),r,i);const o=function d4(n,e,t){if(n.isAbsolute)return new i_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new i_(s,s===e.root,0)}const r=ch(n.commands[0])?0:1;return function h4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new i_(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?dh(o.segmentGroup,o.index,s.commands):ER(o.segmentGroup,o.index,s.commands);return r_(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ds(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function y6(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},g6):!1===r?Object.assign({},m6):r,ds(t))return iR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return iR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new QN(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Nm()},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function $R(n){return"imperative"!==n}class HR{}class qR{preload(e,t){return ee(null)}}let GR=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new BR(i,r,u=>t.triggerEvent(new YN(u)),u=>t.triggerEvent(new JN(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(zo(t=>t instanceof Xu),Ju(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(qr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return St(i).pipe(Ja(),Ee(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ee(r._loadedConfig):this.loader.load(t.injector,r)).pipe(ht(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(L(Dn),L(HM),L(Ct),L(HR))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),p_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof XN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new XN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Nm()},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const hs=new se("ROUTER_CONFIGURATION"),zR=new se("ROUTER_FORROOT_GUARD"),E6=[Cy,{provide:uR,useClass:lR},{provide:Dn,useFactory:function S6(n,e,t,r,i,s,o={},a,u){const l=new Dn(null,n,e,t,r,i,tR(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function C6(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[uR,sl,Cy,Ct,HM,d_,hs,[class d6{},new st],[class u6{},new st]]},sl,{provide:Yo,useFactory:function A6(n){return n.routerState.root},deps:[Dn]},GR,qR,class w6{preload(e,t){return t().pipe(Ti(()=>ee(null)))}},{provide:hs,useValue:{enableTracing:!1}}];function I6(){return new KM("Router",Dn)}let WR=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[E6,KR(t),{provide:zR,useFactory:D6,deps:[[Dn,new st,new gu]]},{provide:hs,useValue:r||{}},{provide:Go,useFactory:b6,deps:[as,[new sd(Sy),new st],hs]},{provide:p_,useFactory:T6,deps:[Dn,DK,hs]},{provide:HR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:qR},{provide:KM,multi:!0,useFactory:I6},[g_,{provide:cy,multi:!0,useFactory:x6,deps:[g_]},{provide:QR,useFactory:M6,deps:[g_]},{provide:jM,multi:!0,useExisting:QR}]]}}static forChild(t){return{ngModule:n,providers:[KR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(L(zR,8),L(Dn,8))},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({}),n})();function T6(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new p_(n,e,t)}function b6(n,e,t={}){return t.useHash?new r3(n,e):new pN(n,e)}function D6(n){return"guarded"}function KR(n){return[{provide:P2,multi:!0,useValue:n},{provide:d_,multi:!0,useValue:n}]}let g_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pr}appInitializer(){return this.injector.get(e3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Dn),o=this.injector.get(hs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(hs),i=this.injector.get(GR),s=this.injector.get(p_),o=this.injector.get(Dn),a=this.injector.get(_y);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(L(Ct))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function x6(n){return n.appInitializer.bind(n)}function M6(n){return n.bootstrapListener.bind(n)}const QR=new se("Router Initializer"),R6=[];let k6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({imports:[[WR.forRoot(R6)],WR]}),n})();function YR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){YR(s,r,i,o,a,"next",u)}function a(u){YR(s,r,i,o,a,"throw",u)}o(void 0)})}}const JR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_h=function(n){return function(n){const e=JR(n);return y_.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class v_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function pt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZR(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function vh(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ek(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tk(){const n=pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fs(){return"object"==typeof indexedDB}function ll(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function w_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}}class Sr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function H6(n,e){return n.replace(q6,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Dr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const q6=/\{\$([^}]+)}/g;function Eh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rk(s)&&rk(o)){if(!Eh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rk(n){return null!==n&&"object"==typeof n}function Ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class W6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function K6(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=E_),void 0===i.error&&(i.error=E_),void 0===i.complete&&(i.complete=E_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E_(){}function T_(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function $n(n){return n&&n._delegate?n._delegate:n}function cl(n,e){return new Promise((t,r)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;r(`${e}: ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}})}class ik{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new sk(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new ok(this._db.createObjectStore(e,t))}close(){this._db.close()}}class sk{constructor(e){this._transaction=e,this.complete=new Promise((t,r)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new ok(this._transaction.objectStore(e))}}class ok{constructor(e){this._store=e}index(e){return new ak(this._store.index(e))}createIndex(e,t,r){return new ak(this._store.createIndex(e,t,r))}get(e){return cl(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return cl(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return cl(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return cl(this._store.clear(),"Error clearing IndexedDB object store")}}class ak{constructor(e){this._index=e}get(e){return cl(this._index.get(e),"Error reading from IndexedDB")}}function Th(n,e,t){return new Promise((r,i)=>{try{const s=indexedDB.open(n,e);s.onsuccess=o=>{r(new ik(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${null===(a=o.target.error)||void 0===a?void 0:a.message}`)},s.onupgradeneeded=o=>{t(new ik(s.result),o.oldVersion,o.newVersion,new sk(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}function b_(n){return D_.apply(this,arguments)}function D_(){return(D_=m(function*(n){return new Promise((e,t)=>{try{const r=indexedDB.deleteDatabase(n);r.onsuccess=()=>{e()},r.onerror=i=>{var s;t(`Error deleting indexedDB database "${n}": ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}}catch(r){t(`Error deleting indexedDB database "${n}": ${r.message}`)}})})).apply(this,arguments)}class Ht{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class e7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new v_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function n7(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ps?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class r7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const S_=[];var he=(()=>{return(n=he||(he={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",he;var n})();const uk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},i7=he.INFO,s7={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},o7=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=s7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Xo{constructor(e){this.name=e,this._logLevel=i7,this._logHandler=o7,this._userLogHandler=null,S_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}class a7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function u7(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const C_="@firebase/app",A_=new Xo("@firebase/app"),x_="[DEFAULT]",P7={[C_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gs=new Map,bh=new Map;function O7(n,e){try{n.container.addComponent(e)}catch(t){A_.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tn(n){const e=n.name;if(bh.has(e))return A_.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,n);for(const t of gs.values())O7(t,n);return!0}function Zo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Di=new Sr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class L7{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const ea="9.6.10";function V7(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:x_,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw Di.create("bad-app-name",{appName:String(r)});const i=gs.get(r);if(i){if(Eh(n,i.options)&&Eh(t,i.config))return i;throw Di.create("duplicate-app",{appName:r})}const s=new r7(r);for(const a of bh.values())s.addComponent(a);const o=new L7(n,t,s);return gs.set(r,o),o}function M_(n=x_){const e=gs.get(n);if(!e)throw Di.create("no-app",{appName:n});return e}function ck(){return Array.from(gs.values())}function $e(n,e,t){var r;let i=null!==(r=P7[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void A_.warn(a.join(" "))}tn(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dl="firebase-heartbeat-store";let R_=null;function dk(){return R_||(R_=Th("firebase-heartbeat-database",1,(n,e)=>{0===e&&n.createObjectStore(dl)}).catch(n=>{throw Di.create("storage-open",{originalErrorMessage:n.message})})),R_}function k_(){return(k_=m(function*(n){try{return(yield dk()).transaction(dl).objectStore(dl).get(fk(n))}catch(e){throw Di.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function hk(n,e){return P_.apply(this,arguments)}function P_(){return(P_=m(function*(n,e){try{const r=(yield dk()).transaction(dl,"readwrite");return yield r.objectStore(dl).put(e,fk(n)),r.complete}catch(t){throw Di.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function fk(n){return`${n.name}!${n.options.appId}`}class q7{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z7(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=pk(),{heartbeatsToSend:r,unsentEntries:i}=function G7(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),gk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=_h(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function pk(){return(new Date).toISOString().substring(0,10)}class z7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!fs()&&ll().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function j7(n){return k_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return hk(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function gk(n){return _h(JSON.stringify({version:2,heartbeats:n})).length}!function W7(n){tn(new Ht("platform-logger",e=>new a7(e),"PRIVATE")),tn(new Ht("heartbeat",e=>new q7(e),"PRIVATE")),$e(C_,"0.7.20",n),$e(C_,"0.7.20","esm2017"),$e("fire-js","")}(""),$e("firebase","9.6.10","app");const mk="@firebase/installations",_k="w:0.5.7",vk="FIS_v2",Yr=new Sr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wk(n){return n instanceof Dr&&n.code.includes("request-failed")}function F_({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Ek(n){return{token:n.token,requestStatus:2,expiresIn:t5(n.expiresIn),creationTime:Date.now()}}function L_(n,e){return V_.apply(this,arguments)}function V_(){return(V_=m(function*(n,e){const r=(yield e.json()).error;return Yr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ik({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Tk(n,{refreshToken:e}){const t=Ik(n);return t.append("Authorization",function n5(n){return`${vk} ${n}`}(e)),t}function U_(n){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function t5(n){return Number(n.replace("s","000"))}function r5(n,e){return j_.apply(this,arguments)}function j_(){return(j_=m(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=F_(n),i=Ik(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:vk,appId:n.appId,sdkVersion:_k})},u=yield U_(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:Ek(l.authToken)}}throw yield L_("Create Installation",u)})).apply(this,arguments)}function bk(n){return new Promise(e=>{setTimeout(e,n)})}const s5=/^[cdef][\w-]{21}$/;function o5(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function a5(n){return function i5(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return s5.test(t)?t:""}catch(n){return""}}function ta(n){return`${n.appName}!${n.appId}`}const na=new Map;function Dk(n,e){const t=ta(n);Sk(t,e),function c5(n,e){const t=function Ck(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=n=>{Sk(n.data.key,n.data.fid)}),ms}();t&&t.postMessage({key:n,fid:e}),function Ak(){0===na.size&&ms&&(ms.close(),ms=null)}()}(t,e)}function Sk(n,e){const t=na.get(n);if(t)for(const r of t)r(e)}let ms=null;const ys="firebase-installations-store";let H_=null;function q_(){return H_||(H_=Th("firebase-installations-database",1,(n,e)=>{0===e&&n.createObjectStore(ys)})),H_}function Dh(n,e){return G_.apply(this,arguments)}function G_(){return(G_=m(function*(n,e){const t=ta(n),i=(yield q_()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&Dk(n,e.fid),e})).apply(this,arguments)}function z_(n){return W_.apply(this,arguments)}function W_(){return(W_=m(function*(n){const e=ta(n),r=(yield q_()).transaction(ys,"readwrite");yield r.objectStore(ys).delete(e),yield r.complete})).apply(this,arguments)}function hl(n,e){return K_.apply(this,arguments)}function K_(){return(K_=m(function*(n,e){const t=ta(n),i=(yield q_()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&Dk(n,a.fid),a})).apply(this,arguments)}function Q_(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(n){let e;const t=yield hl(n.appConfig,r=>{const i=f5(r),s=p5(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function f5(n){return Mk(n||{fid:o5(),registrationStatus:0})}function p5(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yr.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function g5(n,e){return J_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:m5(n)}:{installationEntry:e}}function J_(){return(J_=m(function*(n,e){try{const t=yield r5(n,e);return Dh(n.appConfig,t)}catch(t){throw wk(t)&&409===t.customData.serverCode?yield z_(n.appConfig):yield Dh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function m5(n){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(n){let e=yield xk(n.appConfig);for(;1===e.registrationStatus;)yield bk(100),e=yield xk(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Q_(n);return r||t}return e})).apply(this,arguments)}function xk(n){return hl(n,e=>{if(!e)throw Yr.create("installation-not-found");return Mk(e)})}function Mk(n){return function y5(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function _5(n,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=m(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=v5(n,t),i=Tk(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_k,appId:n.appId}})},u=yield U_(()=>fetch(r,a));if(u.ok)return Ek(yield u.json());throw yield L_("Generate Auth Token",u)})).apply(this,arguments)}function v5(n,{fid:e}){return`${F_(n)}/${e}/authTokens:generate`}function ev(n){return tv.apply(this,arguments)}function tv(){return(tv=m(function*(n,e=!1){let t;const r=yield hl(n.appConfig,s=>{if(!Rk(s))throw Yr.create("not-registered");const o=s.authToken;if(!e&&I5(o))return s;if(1===o.requestStatus)return t=w5(n,e),s;{if(!navigator.onLine)throw Yr.create("app-offline");const a=b5(s);return t=E5(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function w5(n,e){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(n,e){let t=yield Nk(n.appConfig);for(;1===t.authToken.requestStatus;)yield bk(100),t=yield Nk(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ev(n,e):r})).apply(this,arguments)}function Nk(n){return hl(n,e=>{if(!Rk(e))throw Yr.create("not-registered");return function D5(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function E5(n,e){return rv.apply(this,arguments)}function rv(){return(rv=m(function*(n,e){try{const t=yield _5(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Dh(n.appConfig,r),t}catch(t){if(!wk(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Dh(n.appConfig,r)}else yield z_(n.appConfig);throw t}})).apply(this,arguments)}function Rk(n){return void 0!==n&&2===n.registrationStatus}function I5(n){return 2===n.requestStatus&&!function T5(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function b5(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function iv(){return(iv=m(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Q_(e);return r?r.catch(console.error):ev(e).catch(console.error),t.fid})).apply(this,arguments)}function sv(){return(sv=m(function*(n,e=!1){const t=n;return yield A5(t),(yield ev(t,e)).token})).apply(this,arguments)}function A5(n){return ov.apply(this,arguments)}function ov(){return(ov=m(function*(n){const{registrationPromise:e}=yield Q_(n);e&&(yield e)})).apply(this,arguments)}function lv(n){return Yr.create("missing-app-config-values",{valueName:n})}const kk="installations",k5=n=>{const e=n.getProvider("app").getImmediate(),t=function N5(n){if(!n||!n.options)throw lv("App Configuration");if(!n.name)throw lv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw lv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Zo(e,"heartbeat"),_delete:()=>Promise.resolve()}},P5=n=>{const t=Zo(n.getProvider("app").getImmediate(),kk).getImmediate();return{getId:()=>function S5(n){return iv.apply(this,arguments)}(t),getToken:i=>function C5(n){return sv.apply(this,arguments)}(t,i)}};(function O5(){tn(new Ht(kk,k5,"PUBLIC")),tn(new Ht("installations-internal",P5,"PRIVATE"))})(),$e(mk,"0.5.7"),$e(mk,"0.5.7","esm2017");const cv="@firebase/remote-config",fn=new Sr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class z5{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function W5(n=navigator){return n.languages&&n.languages[0]||n.language}class K5{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return m(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:W5()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",y(b)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(v){let y="fetch-client-network";throw"AbortError"===v.name&&(y="fetch-timeout"),fn.create(y,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw fn.create("fetch-client-parse",{originalErrorMessage:y.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class J5{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return m(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return m(function*(){yield function Q5(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Y5(n){if(!(n instanceof Dr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+T_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class e9{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ch(n,e){const t=n.target.error||void 0;return fn.create(e,{originalErrorMessage:t&&t.message})}const _s="app_namespace_store";class i9{constructor(e,t,r,i=function r9(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Ch(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_s,{keyPath:"compositeKey"})}}catch(t){e(fn.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_s],"readonly").objectStore(_s),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Ch(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(fn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,t){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([_s],"readwrite").objectStore(_s),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(Ch(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(fn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return m(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_s],"readwrite").objectStore(_s),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Ch(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(fn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class s9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function a9(){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(){if(!fs())return!1;try{return yield ll()}catch(n){return!1}})).apply(this,arguments)}!function o9(){tn(new Ht("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fn.create("registration-window");if(!fs())throw fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fn.create("registration-project-id");if(!o)throw fn.create("registration-api-key");if(!a)throw fn.create("registration-app-id");const u=new i9(a,r.name,t=t||"firebase"),l=new s9(u),c=new Xo(cv);c.logLevel=he.ERROR;const d=new K5(i,ea,t,s,o,a),h=new J5(d,u),f=new z5(h,u,l,c),p=new e9(r,f,l,u,c);return function H5(n){const e=$n(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),$e(cv,"0.3.6"),$e(cv,"0.3.6","esm2017")}();const u9="/firebase-messaging-sw.js",l9="/firebase-cloud-messaging-push-scope",Lk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vk="google.c.a.c_id",d9="google.c.a.c_l",h9="google.c.a.ts",f9="google.c.a.e";var ra=(()=>{return(n=ra||(ra={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ra;var n})();function Jr(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p9(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const mv="fcm_token_details_db",Uk="fcm_token_object_Store";function m9(n){return yv.apply(this,arguments)}function yv(){return yv=m(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(mv))return null;let e=null;return(yield Th(mv,5,function(){var r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Uk))return;const l=a.objectStore(Uk),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Jr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}});return function(i,s,o,a){return r.apply(this,arguments)}}())).close(),yield b_(mv),yield b_("fcm_vapid_details_db"),yield b_("undefined"),y9(e)?e:null}),yv.apply(this,arguments)}function y9(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const vs="firebase-messaging-store";let _v=null;function vv(){return _v||(_v=Th("firebase-messaging-database",1,(n,e)=>{0===e&&n.createObjectStore(vs)})),_v}function Bk(n){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(n){const e=bv(n),r=yield(yield vv()).transaction(vs).objectStore(vs).get(e);if(r)return r;{const i=yield m9(n.appConfig.senderId);if(i)return yield Ev(n,i),i}})).apply(this,arguments)}function Ev(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=m(function*(n,e){const t=bv(n),i=(yield vv()).transaction(vs,"readwrite");return yield i.objectStore(vs).put(e,t),yield i.complete,e})).apply(this,arguments)}function w9(n){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(n){const e=bv(n),r=(yield vv()).transaction(vs,"readwrite");yield r.objectStore(vs).delete(e),yield r.complete})).apply(this,arguments)}function bv({appConfig:n}){return n.appId}const xt=new Sr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function I9(n,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=m(function*(n,e){const t=yield xv(n),r=$k(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Av(n.appConfig),i)).json()}catch(o){throw xt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw xt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function T9(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=m(function*(n,e){const t=yield xv(n),r=$k(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Av(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw xt.create("token-update-failed",{errorInfo:o})}if(s.error)throw xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw xt.create("token-update-no-token");return s.token})).apply(this,arguments)}function jk(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=m(function*(n,e){const r={method:"DELETE",headers:yield xv(n)};try{const s=yield(yield fetch(`${Av(n.appConfig)}/${e}`,r)).json();if(s.error)throw xt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw xt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function Av({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function xv(n){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function $k({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Lk&&(i.web.applicationPubKey=r),i}const b9=6048e5;function D9(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*(n){const e=yield C9(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield Bk(n.firebaseDependencies);if(r){if(A9(r.subscriptionOptions,t))return Date.now()>=r.createTime+b9?S9(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield jk(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return qk(n.firebaseDependencies,t)}return qk(n.firebaseDependencies,t)})).apply(this,arguments)}function Hk(n){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(n){const e=yield Bk(n.firebaseDependencies);e&&(yield jk(n.firebaseDependencies,e.token),yield w9(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function S9(n,e){return kv.apply(this,arguments)}function kv(){return(kv=m(function*(n,e){try{const t=yield T9(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Ev(n.firebaseDependencies,r),t}catch(t){throw yield Hk(n),t}})).apply(this,arguments)}function qk(n,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=m(function*(n,e){const r={token:yield I9(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Ev(n,r),r.token})).apply(this,arguments)}function C9(n,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=m(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p9(e)})})).apply(this,arguments)}function A9(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Gk(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function x9(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function M9(n,e){!e.data||(n.data=e.data)}(e,n),function N9(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function R9(n){return"object"==typeof n&&!!n&&Vk in n}function zk(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Fv(n){return xt.create("missing-app-config-values",{valueName:n})}zk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class P9{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function k9(n){if(!n||!n.options)throw Fv("App Configuration Object");if(!n.name)throw Fv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Fv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Wk(n){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(u9,{scope:l9}),n.swRegistration.update().catch(()=>{})}catch(e){throw xt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function O9(n,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=m(function*(n,e){if(!e&&!n.swRegistration&&(yield Wk(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw xt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function F9(n,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Lk)})).apply(this,arguments)}function Bv(){return(Bv=m(function*(n,e){if(!navigator)throw xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xt.create("permission-blocked");return yield F9(n,null==e?void 0:e.vapidKey),yield O9(n,null==e?void 0:e.serviceWorkerRegistration),D9(n)})).apply(this,arguments)}function L9(n,e,t){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(n,e,t){const r=V9(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Vk],message_name:t[d9],message_time:t[h9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function V9(n){switch(n){case ra.NOTIFICATION_CLICKED:return"notification_open";case ra.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $v(){return($v=m(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ra.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Gk(t)):n.onMessageHandler.next(Gk(t)));const r=t.data;R9(r)&&"1"===r[f9]&&(yield L9(n,t.messageType,r))})).apply(this,arguments)}const Qk="@firebase/messaging",B9=n=>{const e=new P9(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function U9(n,e){return $v.apply(this,arguments)}(e,t)),e},j9=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Kk(n,e){return Bv.apply(this,arguments)}(e,r)}};function Jk(){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(){try{yield ll()}catch(n){return!1}return"undefined"!=typeof window&&fs()&&w_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $9(){tn(new Ht("messaging",B9,"PUBLIC")),tn(new Ht("messaging-internal",j9,"PRIVATE")),$e(Qk,"0.9.11"),$e(Qk,"0.9.11","esm2017")}();const Ah="analytics",G9="firebase_id",K9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xk="https://www.googletagmanager.com/gtag/js",Mt=new Xo("@firebase/analytics");function Zk(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Q9(n,e){const t=document.createElement("script");t.src=`${Xk}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function J9(n,e,t,r,i,s){return zv.apply(this,arguments)}function zv(){return(zv=m(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Zk(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mt.error(a)}n("config",i,s)})).apply(this,arguments)}function X9(n,e,t,r,i){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Zk(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Mt.error(s)}})).apply(this,arguments)}function tQ(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(Xk))return e;return null}const Sn=new Sr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),eP=new class sQ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function oQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function aQ(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:oQ(r)},s=K9.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function uQ(n){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(n,e=eP,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Sn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new dQ;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),tP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function tP(n,e,t){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=eP){const{appId:s,measurementId:o}=n;try{yield lQ(r,e)}catch(a){if(o)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield aQ(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!cQ(a)){if(i.deleteThrottleMetadata(s),o)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?T_(t,i.intervalMillis,30):T_(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),Mt.debug(`Calling attemptFetch again in ${u} millis`),tP(n,l,r,i)}})).apply(this,arguments)}function lQ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cQ(n){if(!(n instanceof Dr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class dQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function hQ(){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(){if(!fs())return Mt.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ll()}catch(n){return Mt.warn(Sn.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function Xv(){return(Xv=m(function*(n,e,t,r,i,s,o){var a;const u=uQ(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(u);const l=hQ().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);tQ()||Q9(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[G9]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class pQ{constructor(e){this.app=e}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},nP=[];const rP={};let sP,fl,xh="dataLayer",Zv=!1;function mQ(n,e,t){!function gQ(){const n=[];if(vh()&&n.push("This is a browser extension environment."),w_()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Sn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Sn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Sn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[r])throw Sn.create("already-exists",{id:r});if(!Zv){!function Y9(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(xh);const{wrappedGtag:s,gtagCore:o}=function eQ(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Z9(n,e,t,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield X9(n,e,t,a,u):"config"===o?yield J9(n,e,t,r,a,u):n("set",a)}catch(l){Mt.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Xr,nP,rP,xh,"gtag");fl=s,sP=o,Zv=!0}return Xr[r]=function fQ(n,e,t,r,i,s,o){return Xv.apply(this,arguments)}(n,nP,rP,e,sP,xh,t),new pQ(n)}function ew(){return(ew=m(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function TQ(){return sw.apply(this,arguments)}function sw(){return(sw=m(function*(){if(vh()||!w_()||!fs())return!1;try{return yield ll()}catch(n){return!1}})).apply(this,arguments)}const oP="@firebase/analytics";!function DQ(){tn(new Ht(Ah,(e,{options:t})=>mQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),tn(new Ht("analytics-internal",function n(e){try{const t=e.getProvider(Ah).getImmediate();return{logEvent:(r,i,s)=>function bQ(n,e,t,r){n=$n(n),function yQ(n,e,t,r,i){return ew.apply(this,arguments)}(fl,Xr[n.app.options.appId],e,t,r).catch(i=>Mt.error(i))}(t,r,i,s)}}catch(t){throw Sn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),$e(oP,"0.7.7"),$e(oP,"0.7.7","esm2017")}();class SQ extends yn{constructor(e,t){super()}schedule(e,t=0){return this}}const Mh={setInterval(n,e,...t){const{delegate:r}=Mh;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Mh;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class uP extends SQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Mh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Mh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const lP={now:()=>(lP.delegate||Date).now(),delegate:void 0};class pl{constructor(e,t=pl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}pl.now=lP.now;class cP extends pl{constructor(e,t=pl.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xQ=new class AQ extends cP{}(class CQ extends uP{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),MQ=new cP(uP),Nh=new Uu("7.3.0"),ow="__angularfire_symbol__analyticsIsSupportedValue",aw="__angularfire_symbol__analyticsIsSupported",uw="__angularfire_symbol__remoteConfigIsSupportedValue",lw="__angularfire_symbol__remoteConfigIsSupported",cw="__angularfire_symbol__messagingIsSupportedValue",dw="__angularfire_symbol__messagingIsSupported";function fw(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[aw]||(globalThis[aw]=TQ().then(n=>globalThis[ow]=n).catch(()=>globalThis[ow]=!1)),globalThis[dw]||(globalThis[dw]=Jk().then(n=>globalThis[cw]=n).catch(()=>globalThis[cw]=!1)),globalThis[lw]||(globalThis[lw]=a9().then(n=>globalThis[uw]=n).catch(()=>globalThis[uw]=!1));const pw=(n,e)=>{const t=e?[e]:ck(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ia(){}class dP{constructor(e,t=xQ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class NQ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)),t.pipe(hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gw=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dP(Zone.current)),this.insideAngular=t.run(()=>new dP(Zone.current,MQ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(L(Oe))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ws(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function RQ(n){return ws().ngZone.runOutsideAngular(()=>n())}function Es(n){return ws().ngZone.run(()=>n())}function kQ(n){return ws(),function PQ(n){return function(t){return(t=t.lift(new NQ(n.ngZone))).pipe(Nc(n.outsideAngular),Mc(n.insideAngular))}}(ws())(n)}const OQ=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Es(()=>n.apply(void 0,r))},sa=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)))),r[s]=OQ(r[s],t));const i=RQ(()=>n.apply(this,r));if(!e){if(i instanceof Ve){const s=ws();return i.pipe(Nc(s.outsideAngular),Mc(s.insideAngular))}return Es(()=>i)}return i instanceof Ve?i.pipe(kQ):i instanceof Promise?Es(()=>new Promise((s,o)=>i.then(a=>Es(()=>s(a)),a=>Es(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Es(()=>i)};class oa{constructor(e){return e}}class mw{constructor(){return ck()}}const yw=new se("angularfire2._apps"),LQ={provide:oa,useFactory:function FQ(n){return n&&1===n.length?n[0]:new oa(M_())},deps:[[new st,yw]]},VQ={provide:mw,deps:[[new st,yw]]};function UQ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new oa(r)}}let BQ=(()=>{class n{constructor(t){$e("angularfire",Nh.full,"core"),$e("angularfire",Nh.full,"app"),$e("angular",rM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(L(Gu))},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({providers:[LQ,VQ]}),n})();function jQ(n,...e){return{ngModule:BQ,providers:[{provide:yw,useFactory:UQ(n),multi:!0,deps:[Oe,Ct,gw,...e]}]}}const $Q=sa(V7,!0),hP=new Map,HQ={activated:!1,tokenObservers:[]},qQ={initialized:!1,enabled:!1};function gt(n){return hP.get(n)||HQ}function cr(n,e){hP.set(n,e)}function Rh(){return qQ}class QQ{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return m(function*(){t.stop();try{t.pending=new v_,yield function YQ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new v_,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const nn=new Sr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pP(n){if(!gt(n).activated)throw nn.create("use-before-activation",{appName:n.name})}function ww(n,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw nn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw nn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw nn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw nn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function tY(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const gl="firebase-app-check-store";let Oh=null;function mP(){return Oh||(Oh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(nn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gl,{keyPath:"compositeKey"})}}catch(t){e(nn.create("storage-open",{originalErrorMessage:t.message}))}}),Oh)}function Iw(){return(Iw=m(function*(n,e){const r=(yield mP()).transaction(gl,"readwrite"),s=r.objectStore(gl).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(nn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const ml=new Xo("@firebase/app-check");function wP(n,e){return fs()?function sY(n,e){return function yP(n,e){return Iw.apply(this,arguments)}(function vP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ml.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EP(){return Rh().enabled}function IP(){return Sw.apply(this,arguments)}function Sw(){return(Sw=m(function*(){const n=Rh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dY={error:"UNKNOWN_ERROR"};function hY(n){return y_.encodeString(JSON.stringify(n),!1)}function Fh(n){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(n,e=!1){const t=n.app;pP(t);const r=gt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Lh(u)&&(i=u)}if(!e&&i&&Lh(i))return{token:i.token};let a,o=!1;if(EP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ww(tY(t,yield IP()),n.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield wP(t,u),cr(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ml.warn(u.message):ml.error(u),s=u}return i?(a={token:i.token},cr(t,Object.assign(Object.assign({},r),{token:i})),yield wP(t,i)):a=pY(s),o&&bP(t,a),a})).apply(this,arguments)}function xw(n,e){const t=gt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),cr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function TP(n){const{app:e}=n,t=gt(e);let r=t.tokenRefresher;r||(r=function fY(n){const{app:e}=n;return new QQ(m(function*(){let r;if(r=gt(e).token?yield Fh(n,!0):yield Fh(n),r.error)throw r.error}),()=>!0,()=>{const t=gt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),cr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bP(n,e){const t=gt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Lh(n){return n.expireTimeMillis-Date.now()>0}function pY(n){return{token:hY(dY),error:n}}class gY{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gt(this.app);for(const t of e)xw(this.app,t.next);return Promise.resolve()}}const RP="app-check-internal";!function xY(){tn(new Ht("app-check",n=>function mY(n,e){return new gY(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RP).initialize()})),tn(new Ht(RP,n=>function yY(n){return{getToken:e=>Fh(n,e),addTokenListener:e=>function Aw(n,e,t,r){const{app:i}=n,s=gt(i),o={next:t,error:r,type:e};if(cr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Lh(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),TP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TP(n))}(n,"INTERNAL",e),removeTokenListener:e=>xw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),$e("@firebase/app-check","0.5.5")}();class kw{constructor(){return pw("app-check")}}"undefined"!=typeof window&&window;const PY=function PP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},OP=new Sr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),FP=new Xo("@firebase/auth");function Uh(n,...e){FP.logLevel<=he.ERROR&&FP.error(`Auth (${ea}): ${n}`,...e)}function pn(n,...e){throw Ow(n,...e)}function Cr(n,...e){return Ow(n,...e)}function LP(n,e,t){const r=Object.assign(Object.assign({},PY()),{[e]:t});return new Sr("auth","Firebase",r).create(e,{appName:n.name})}function Ow(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OP.create(n,...e)}function C(n,e,...t){if(!n)throw Ow(e,...t)}function Ar(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uh(e),new Error(e)}function Si(n,e){n||Ar(e)}const VP=new Map;function Zr(n){Si(n instanceof Function,"Expected a class definition");let e=VP.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VP.set(n,e),e)}function yl(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function UP(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class _l{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=ZR()||ek()}get(){return function LY(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Fw(){return"http:"===UP()||"https:"===UP()}()||vh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lw(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class BP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},BY=new _l(3e4,6e4);function ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function mt(n,e,t,r){return Vw.apply(this,arguments)}function Vw(){return(Vw=m(function*(n,e,t,r,i={}){return jP(n,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ih(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),BP.fetch()($P(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function jP(n,e,t){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},UY),e);try{const i=new jY(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Bh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Bh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Bh(n,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw LP(n,c,l);pn(n,c)}}catch(i){if(i instanceof Dr)throw i;pn(n,"network-request-failed")}})).apply(this,arguments)}function ei(n,e,t,r){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(n,e,t,r,i={}){const s=yield mt(n,e,t,r,i);return"mfaPendingCredential"in s&&pn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function $P(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Lw(n.config,i):`${n.config.apiScheme}://${i}`}class jY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),BY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Cr(n,e,r);return i.customData._tokenResponse=t,i}function jw(){return(jw=m(function*(n,e){return mt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function qY(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(n,e){return mt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function vl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function qw(){return(qw=m(function*(n,e=!1){const t=$n(n),r=yield t.getIdToken(e),i=jh(r);C(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(Gw(i.auth_time)),issuedAtTime:vl(Gw(i.iat)),expirationTime:vl(Gw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Gw(n){return 1e3*Number(n)}function jh(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(Uh("Failed to decode base64 JWT payload"),null)}catch(i){return Uh("Caught error parsing JWT payload as JSON",i),null}}function ti(n,e){return zw.apply(this,arguments)}function zw(){return(zw=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Dr&&WY(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function WY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class KY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class HP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wl(n){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ti(n,qY(t,{idToken:r}));C(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?JY(s.providerUserInfo):[],a=YY(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function Kw(){return(Kw=m(function*(n){const e=$n(n);yield wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function YY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JY(n){return n.map(e=>{var{providerId:t}=e,r=f0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Qw(){return(Qw=m(function*(n,e){const t=yield jP(n,{},m(function*(){const r=Ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=$P(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(void 0!==e.idToken,"internal-error"),C(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function zY(n){const e=jh(n);return C(e,"internal-error"),C(void 0!==e.exp,"internal-error"),C(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return m(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function XY(n,e){return Qw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new El;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function Ci(n,e){C("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Is{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=f0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const r=yield ti(t,t.stsTokenManager.getToken(t.auth,e));return C(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function GY(n){return qw.apply(this,arguments)}(this,e)}reload(){return function QY(n){return Kw.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield wl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield ti(e,function $Y(n,e){return jw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:S,isAnonymous:P,providerData:V,stsTokenManager:le}=t;C(b&&le,e,"internal-error");const we=El.fromJSON(this.name,le);C("string"==typeof b,e,"internal-error"),Ci(d,e.name),Ci(h,e.name),C("boolean"==typeof S,e,"internal-error"),C("boolean"==typeof P,e,"internal-error"),Ci(f,e.name),Ci(p,e.name),Ci(g,e.name),Ci(_,e.name),Ci(v,e.name),Ci(y,e.name);const Ne=new Is({uid:b,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:we,createdAt:v,lastLoginAt:y});return V&&Array.isArray(V)&&(Ne.providerData=V.map(ce=>Object.assign({},ce))),_&&(Ne._redirectEventId=_),Ne}static _fromIdTokenResponse(e,t,r=!1){return m(function*(){const i=new El;i.updateFromServerResponse(t);const s=new Is({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wl(s),s})()}}const qP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,r){var i=this;return m(function*(){i.storage[t]=r})()}_get(t){var r=this;return m(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return m(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function $h(n,e,t){return`firebase:${n}:${e}:${t}`}class ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$h(this.userKey,i.apiKey,s),this.fullPersistenceKey=$h("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Is._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return m(function*(){if(!t.length)return new ua(Zr(qP),e,r);const i=(yield Promise.all(t.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Zr(qP);const o=$h(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Is._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new ua(s,e,r)):new ua(s,e,r)})()}}function GP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YP(e))return"Blackberry";if(JP(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||WP(e))&&!e.includes("edge/"))return"Chrome";if(QP(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function zP(n=pt()){return/firefox\//i.test(n)}function Yw(n=pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WP(n=pt()){return/crios\//i.test(n)}function KP(n=pt()){return/iemobile/i.test(n)}function QP(n=pt()){return/android/i.test(n)}function YP(n=pt()){return/blackberry/i.test(n)}function JP(n=pt()){return/webos/i.test(n)}function Hh(n=pt()){return/iphone|ipad|ipod/i.test(n)}function XP(n=pt()){return Hh(n)||QP(n)||JP(n)||YP(n)||/windows phone/i.test(n)||KP(n)}function ZP(n,e=[]){let t;switch(n){case"Browser":t=GP(pt());break;case"Worker":t=`${GP(pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${r}`}class nJ{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e1(this),this.idTokenSubscription=new e1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ua.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(C(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield wl(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function VY(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const r=e?$n(e):null;return r&&C(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return m(function*(){if(!t._deleted)return e&&C(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(m(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Zr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const r=e&&Zr(e)||t._popupRedirectResolver;C(r,t,"argument-error"),t.redirectPersistenceManager=yield ua.create(t,[Zr(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var r,i;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function gn(n){return $n(n)}class e1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function z6(n,e){const t=new W6(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ni(n,e){return lE.apply(this,arguments)}function lE(){return(lE=m(function*(n,e){return ei(n,"POST","/v1/accounts:signInWithIdp",ut(n,e))})).apply(this,arguments)}class Ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class IJ extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return m(function*(){const s=yield Is._fromIdTokenResponse(e,r,i),o=a1(r);return new Hn({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=a1(r);return new Hn({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function a1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Wh extends Dr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Wh(e,t,r,i)}}function u1(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Wh._fromErrorAndOperation(n,s,e,r):s})}function _E(n,e){return vE.apply(this,arguments)}function vE(){return(vE=m(function*(n,e,t=!1){const r=yield ti(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Hn._forOperation(n,"link",r)})).apply(this,arguments)}function EE(){return(EE=m(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield ti(n,u1(r,i,e,n),t);C(s.idToken,r,"internal-error");const o=jh(s.idToken);C(o,r,"internal-error");const{sub:a}=o;return C(n.uid===a,r,"user-mismatch"),Hn._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&pn(r,"user-mismatch"),s}})).apply(this,arguments)}function IE(){return(IE=m(function*(n,e,t=!1){const r="signIn",i=yield u1(n,r,e),s=yield Hn._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Yh="__sak";class f1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $J=(()=>{class n extends f1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function UJ(){const n=pt();return Yw(n)||Hh(n)}()&&function tJ(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=XP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function eJ(){return tk()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),p1=(()=>{class n extends f1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let qJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return m(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function HJ(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function JE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class GJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return m(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=JE("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function lt(){return window}function XE(){return void 0!==lt().WorkerGlobalScope&&"function"==typeof lt().importScripts}function ZE(){return(ZE=m(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const g1="firebaseLocalStorageDb",Jh="firebaseLocalStorage",m1="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(n,e){return n.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function eI(){const n=indexedDB.open(g1,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jh,{keyPath:m1})}catch(i){t(i)}}),n.addEventListener("success",m(function*(){const r=n.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),yield function JJ(){const n=indexedDB.deleteDatabase(g1);return new Dl(n).toPromise()}(),e(yield eI()))}))})}function y1(n,e,t){return tI.apply(this,arguments)}function tI(){return(tI=m(function*(n,e,t){const r=Xh(n,!0).put({[m1]:e,value:t});return new Dl(r).toPromise()})).apply(this,arguments)}function nI(){return(nI=m(function*(n,e){const t=Xh(n,!1).get(e),r=yield new Dl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function _1(n,e){const t=Xh(n,!0).delete(e);return new Dl(t).toPromise()}const tX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield eI()),t.db})()}_withRetries(t){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return XE()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=qJ._getInstance(function QJ(){return XE()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var r,i;if(t.activeServiceWorker=yield function WJ(){return ZE.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new GJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function KJ(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield eI();return yield y1(t,Yh,"1"),yield _1(t,Yh),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return m(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>y1(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return m(function*(){const i=yield r._withRetries(s=>function XJ(n,e){return nI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>_1(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const r=yield t._withRetries(o=>{const a=Xh(o,!1).getAll();return new Dl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function w1(n){return`__${n}${Math.floor(1e6*Math.random())}`}function bs(n,e){return e?Zr(e):(C(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}w1("rcb"),new _l(3e4,6e4);class hI extends class sJ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ni(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ni(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _X(n){return function d1(n,e){return IE.apply(this,arguments)}(n.auth,new hI(n),n.bypassAuthState)}function vX(n){const{auth:e,user:t}=n;return C(t,e,"internal-error"),function c1(n,e){return EE.apply(this,arguments)}(t,new hI(n),n.bypassAuthState)}function wX(n){return fI.apply(this,arguments)}function fI(){return(fI=m(function*(n){const{auth:e,user:t}=n;return C(t,e,"internal-error"),_E(t,new hI(n),n.bypassAuthState)})).apply(this,arguments)}new _l(2e3,1e4);const ef=new Map;class TX extends class EX{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _X;case"linkViaPopup":case"linkViaRedirect":return wX;case"reauthViaPopup":case"reauthViaRedirect":return vX;default:pn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let r=ef.get(t.auth._key());if(!r){try{const s=(yield function bX(n,e){return _I.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ef.set(t.auth._key(),r)}return t.bypassAuthState||ef.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function _I(){return(_I=m(function*(n,e){const t=T1(e),r=I1(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function I1(n){return Zr(n._redirectPersistence)}function T1(n){return $h("pendingRedirect",n.config.apiKey,n.name)}function b1(n,e){return DI.apply(this,arguments)}function DI(){return(DI=m(function*(n,e,t=!1){const r=gn(n),i=bs(r,e),o=yield new TX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class xX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function MX(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!C1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Cr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C1({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function NX(n){return CI.apply(this,arguments)}function CI(){return(CI=m(function*(n,e={}){return mt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const RX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kX=/^https?/;function AI(){return(AI=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield NX(n);for(const t of e)try{if(OX(t))return}catch(r){}pn(n,"unauthorized-domain")})).apply(this,arguments)}function OX(n){const e=yl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!kX.test(t))return!1;if(RX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const FX=new _l(3e4,6e4);function A1(){const n=lt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let tf=null;function VX(n){return tf=tf||function LX(n){return new Promise((e,t)=>{var r,i,s;function o(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),t(Cr(n,"network-request-failed"))},timeout:FX.get()})}if(null===(i=null===(r=lt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=lt().gapi)||void 0===s?void 0:s.load)){const a=w1("iframefcb");return lt()[a]=()=>{gapi.load?o():t(Cr(n,"network-request-failed"))},function v1(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function sX(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw tf=null,e})}(n),tf}const UX=new _l(5e3,15e3),$X={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qX(n){const e=n.config;C(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ea},i=HX.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ih(r).slice(1)}`}function xI(){return xI=m(function*(n){const e=yield VX(n),t=lt().gapi;return C(t,n,"internal-error"),e.open({where:document.body,url:qX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$X,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Cr(n,"network-request-failed"),u=lt().setTimeout(()=>{o(a)},UX.get());function l(){lt().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),xI.apply(this,arguments)}const zX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class x1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function M1(n,e,t,r,i,s){C(n.config.authDomain,n,"auth-domain-config-required"),C(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ea,eventId:i};if(e instanceof Ai){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function G6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof IJ){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function tZ({config:n}){return n.emulator?Lw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Ih(a).slice(1)}`}const MI="webStorageSupport",rZ=class nZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p1,this._completeRedirectFn=b1}_openPopup(e,t,r,i){var s=this;return m(function*(){var o;Si(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=M1(e,t,r,yl(),i);return function JX(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},zX),{width:r.toString(),height:i.toString(),top:s,left:o}),l=pt().toLowerCase();t&&(a=WP(l)?"_blank":t),zP(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function ZY(n=pt()){var e;return Hh(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function XX(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new x1(null);const d=window.open(e||"",a,c);C(d,n,"popup-blocked");try{d.focus()}catch(h){}return new x1(d)}(e,a,JE())})()}_openRedirect(e,t,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function zJ(n){lt().location.href=n}(M1(e,t,r,yl(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return m(function*(){const r=yield function GX(n){return xI.apply(this,arguments)}(e),i=new xX(e);return r.register("authEvent",s=>(C(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MI,{type:MI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[MI];void 0!==o&&t(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function PX(n){return AI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XP()||Yw()||Hh()}};var R1="@firebase/auth",k1="0.19.11";class iZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aZ(n=M_()){const e=Zo(n,"auth");return e.isInitialized()?e.getImmediate():function OY(n,e){const t=Zo(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Eh(t.getOptions(),null!=e?e:{}))return i;pn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:rZ,persistence:[tX,$J,p1]})}!function oZ(n){tn(new Ht("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{C(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),C(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZP(n)},c=new nJ(a,u,l);return function FY(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Zr);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tn(new Ht("auth-internal",e=>{const t=gn(e.getProvider("auth").getImmediate());return new iZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(R1,k1,function sZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),$e(R1,k1,"esm2017")}("Browser");class NI{constructor(e){return e}}class O1{constructor(){return pw("auth")}}const RI=new se("angularfire2.auth-instances");function lZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new NI(r)}}const cZ={provide:O1,deps:[[new st,RI]]},dZ={provide:NI,useFactory:function uZ(n,e){const t=fw("auth",n,e);return t&&new NI(t)},deps:[[new st,RI],oa]};let hZ=(()=>{class n{constructor(){$e("angularfire",Nh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({providers:[dZ,cZ]}),n})();function fZ(n,...e){return{ngModule:hZ,providers:[{provide:RI,useFactory:lZ(n),multi:!0,deps:[Oe,Ct,gw,mw,[new st,kw],...e]}]}}const pZ=sa(aZ,!0);var R,gZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ri={},kI=kI||{},K=gZ||self;function nf(){}function PI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Sl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var OI="closure_uid_"+(1e9*Math.random()>>>0),yZ=0;function _Z(n,e,t){return n.call.apply(n.bind,arguments)}function vZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Nt(n,e,t){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_Z:vZ).apply(null,arguments)}function rf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rt(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function xi(){this.s=this.s,this.o=this.o}var EZ={};xi.prototype.s=!1,xi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function mZ(n){return Object.prototype.hasOwnProperty.call(n,OI)&&n[OI]||(n[OI]=++yZ)}(this);delete EZ[n]}},xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},L1=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function V1(n){return Array.prototype.concat.apply([],arguments)}function FI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sf(n){return/^[\s\xa0]*$/.test(n)}var sn,U1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rn(n,e){return-1!=n.indexOf(e)}function LI(n,e){return n<e?-1:n>e?1:0}e:{var B1=K.navigator;if(B1){var j1=B1.userAgent;if(j1){sn=j1;break e}}sn=""}function VI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $1(n){const e={};for(const t in n)e[t]=n[t];return e}var H1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<H1.length;s++)t=H1[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function UI(n){return UI[" "](n),n}UI[" "]=nf;var of,n,bZ=rn(sn,"Opera"),la=rn(sn,"Trident")||rn(sn,"MSIE"),G1=rn(sn,"Edge"),BI=G1||la,z1=rn(sn,"Gecko")&&!(rn(sn.toLowerCase(),"webkit")&&!rn(sn,"Edge"))&&!(rn(sn,"Trident")||rn(sn,"MSIE"))&&!rn(sn,"Edge"),DZ=rn(sn.toLowerCase(),"webkit")&&!rn(sn,"Edge");function W1(){var n=K.document;return n?n.documentMode:void 0}e:{var jI="",$I=(n=sn,z1?/rv:([^\);]+)(\)|;)/.exec(n):G1?/Edge\/([\d\.]+)/.exec(n):la?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):DZ?/WebKit\/(\S+)/.exec(n):bZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($I&&(jI=$I?$I[1]:""),la){var HI=W1();if(null!=HI&&HI>parseFloat(jI)){of=String(HI);break e}}of=jI}var SZ={};var AZ=K.document&&la&&(W1()||parseInt(of,10))||void 0,xZ=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{K.addEventListener("test",nf,e),K.removeEventListener("test",nf,e)}catch(t){}return n}();function qt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Cl(n,e){if(qt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(z1){e:{try{UI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:MZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cl.Z.h.call(this)}}qt.prototype.h=function(){this.defaultPrevented=!0},Rt(Cl,qt);var MZ={2:"touch",3:"pen",4:"mouse"};Cl.prototype.h=function(){Cl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),NZ=0;function RZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++NZ,this.ca=this.fa=!1}function af(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function uf(n){this.src=n,this.g={},this.h=0}function GI(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=F1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(af(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zI(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}uf.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=zI(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new RZ(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var WI="closure_lm_"+(1e6*Math.random()|0),KI={};function Q1(n,e,t,r,i){if(r&&r.once)return J1(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q1(n,e[s],t,r,i);return null}return t=XI(t),n&&n[Al]?n.N(e,t,Sl(r)?!!r.capture:!!r,i):Y1(n,e,t,!1,r,i)}function Y1(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Sl(i)?!!i.capture:!!i,a=YI(n);if(a||(n[WI]=a=new uf(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function kZ(){var e=PZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Z1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function J1(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)J1(n,e[s],t,r,i);return null}return t=XI(t),n&&n[Al]?n.O(e,t,Sl(r)?!!r.capture:!!r,i):Y1(n,e,t,!0,r,i)}function X1(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X1(n,e[s],t,r,i);else r=Sl(r)?!!r.capture:!!r,t=XI(t),n&&n[Al]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zI(s=n.g[e],t,r,i))&&(af(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=YI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zI(e,t,r,i)),(t=-1<n?e[n]:null)&&QI(t))}function QI(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Al])GI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Z1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=YI(e))?(GI(t,n),0==t.h&&(t.src=null,e[WI]=null)):af(n)}}}function Z1(n){return n in KI?KI[n]:KI[n]="on"+n}function PZ(n,e){if(n.ca)n=!0;else{e=new Cl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&QI(n),n=t.call(r,e)}return n}function YI(n){return(n=n[WI])instanceof uf?n:null}var JI="__closure_events_fn_"+(1e9*Math.random()>>>0);function XI(n){return"function"==typeof n?n:(n[JI]||(n[JI]=function(e){return n.handleEvent(e)}),n[JI])}function yt(){xi.call(this),this.i=new uf(this),this.P=this,this.I=null}function kt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new qt(e,n);else if(e instanceof qt)e.target=e.target||n;else{var i=e;q1(e=new qt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=lf(o,r,!0,e)&&i}if(i=lf(o=e.g=n,r,!0,e)&&i,i=lf(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=lf(o=e.g=t[s],r,!1,e)&&i}function lf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&GI(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(yt,xi),yt.prototype[Al]=!0,yt.prototype.removeEventListener=function(n,e,t,r){X1(this,n,e,t,r)},yt.prototype.M=function(){if(yt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)af(t[r]);delete n.g[e],n.h--}}this.I=null},yt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ZI=K.JSON.stringify;function OZ(){var n=tO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tT,eO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LZ,n=>n.reset());class LZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VZ(n){K.setTimeout(()=>{throw n},0)}function eT(n,e){tT||function UZ(){var n=K.Promise.resolve(void 0);tT=function(){n.then(BZ)}}(),nT||(tT(),nT=!0),tO.add(n,e)}var nT=!1,tO=new class FZ{constructor(){this.h=this.g=null}add(e,t){const r=eO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function BZ(){for(var n;n=OZ();){try{n.h.call(n.g)}catch(t){VZ(t)}var e=eO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nT=!1}function cf(n,e){yt.call(this),this.h=n||1,this.g=e||K,this.j=Nt(this.kb,this),this.l=Date.now()}function rT(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function iT(n,e,t){if("function"==typeof n)t&&(n=Nt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Nt(n.handleEvent,n)}return 2147483647<Number(e)?-1:K.setTimeout(n,e||0)}function nO(n){n.g=iT(()=>{n.g=null,n.i&&(n.i=!1,nO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rt(cf,yt),(R=cf.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(rT(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){cf.Z.M.call(this),rT(this),delete this.g};class jZ extends xi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nO(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xl(n){xi.call(this),this.h=n,this.g={}}Rt(xl,xi);var rO=[];function iO(n,e,t,r){Array.isArray(t)||(t&&(rO[0]=t.toString()),t=rO);for(var i=0;i<t.length;i++){var s=Q1(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function sO(n){VI(n.g,function(e,t){this.g.hasOwnProperty(t)&&QI(e)},n),n.g={}}function df(){this.g=!0}function ca(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function GZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ZI(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}xl.prototype.M=function(){xl.Z.M.call(this),sO(this)},xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},df.prototype.Aa=function(){this.g=!1},df.prototype.info=function(){};var Ds={},oO=null;function hf(){return oO=oO||new yt}function aO(n){qt.call(this,Ds.Ma,n)}function Ml(n){const e=hf();kt(e,new aO(e,n))}function uO(n,e){qt.call(this,Ds.STAT_EVENT,n),this.stat=e}function on(n){const e=hf();kt(e,new uO(e,n))}function lO(n,e){qt.call(this,Ds.Na,n),this.size=e}function Nl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){n()},e)}Ds.Ma="serverreachability",Rt(aO,qt),Ds.STAT_EVENT="statevent",Rt(uO,qt),Ds.Na="timingevent",Rt(lO,qt);var ff={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sT(){}function hO(){}sT.prototype.h=null;var uT,Rl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oT(){qt.call(this,"d")}function aT(){qt.call(this,"c")}function pf(){}function kl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new xl(this),this.P=zZ,this.W=new cf(n=BI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fO}function fO(){this.i=null,this.g="",this.h=!1}Rt(oT,qt),Rt(aT,qt),Rt(pf,sT),pf.prototype.g=function(){return new XMLHttpRequest},pf.prototype.i=function(){return{}},uT=new pf;var zZ=45e3,lT={},gf={};function cT(n,e,t){n.K=1,n.v=wf(ii(e)),n.s=t,n.U=!0,pO(n,null)}function pO(n,e){n.F=Date.now(),Pl(n),n.A=ii(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),TO(t.h,"t",r),n.C=0,t=n.l.H,n.h=new fO,n.g=zO(n.l,t?e:null,!n.s),0<n.O&&(n.L=new jZ(Nt(n.Ia,n,n.g),n.O)),iO(n.V,n.g,"readystatechange",n.gb),e=n.H?$1(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ml(1),function $Z(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function gO(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mO(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=WZ(n,t),i==gf){4==e&&(n.o=4,on(14),r=!1),ca(n.j,n.m,null,"[Incomplete Response]");break}if(i==lT){n.o=4,on(15),ca(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ca(n.j,n.m,i,null),dT(n,i)}gO(n)&&i!=gf&&i!=lT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,on(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),IT(e),e.L=!0,on(11))):(ca(n.j,n.m,t,"[Invalid Chunked Response]"),Ss(n),Ol(n))}function WZ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?gf:(t=Number(e.substring(t,r)),isNaN(t)?lT:(r+=1)+t>e.length?gf:(e=e.substr(r,t),n.C=r+t,e))}function Pl(n){n.Y=Date.now()+n.P,yO(n,n.P)}function yO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Nl(Nt(n.eb,n),e)}function mf(n){n.B&&(K.clearTimeout(n.B),n.B=null)}function Ol(n){0==n.l.G||n.I||$O(n.l,n)}function Ss(n){mf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rT(n.W),sO(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function dT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pT(t.i,n)))if(t.I=n.N,!n.J&&pT(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Nl(Nt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sf(t),bf(t)}ET(t),on(18)}if(1>=SO(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else xs(t,11)}else if((n.J||t.g==n)&&Sf(t),!sf(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(rn(p,"spdy")||rn(p,"quic")||rn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(gT(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,ke(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=GO(r,r.H?r.la:null,r.W),o.J){CO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(mf(a),Pl(a)),r.g=o}else BO(r);0<t.l.length&&Df(t)}else"stop"!=l[0]&&"close"!=l[0]||xs(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?xs(t,7):vT(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}Ml(4)}catch(l){}}function hT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(PI(n)||"string"==typeof n)L1(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(PI(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function KZ(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(PI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function da(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof da)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function fT(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cs(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cs(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(R=kl.prototype).setTimeout=function(n){this.P=n},R.gb=function(n){n=n.target;const e=this.L;e&&3==si(n)?e.l():this.Ia(n)},R.Ia=function(n){try{if(n==this.g)e:{const c=si(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||BI||this.g&&(this.h.h||this.g.ga()||OO(this.g)))){this.I||4!=c||7==e||Ml(8==e||0>=d?3:2),mf(this);var t=this.g.ba();this.N=t;t:if(gO(this)){var r=OO(this.g);n="";var i=r.length,s=4==si(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ss(this),Ol(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function HZ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sf(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,on(12),Ss(this),Ol(this);break e}ca(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dT(this,t)}this.U?(mO(this,c,o),BI&&this.i&&3==c&&(iO(this.V,this.W,"tick",this.fb),this.W.start())):(ca(this.j,this.m,o,null),dT(this,o)),4==c&&Ss(this),this.i&&!this.I&&(4==c?$O(this.l,this):(this.i=!1,Pl(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),Ss(this),Ol(this)}}}catch(c){}},R.fb=function(){if(this.g){var n=si(this.g),e=this.g.ga();this.C<e.length&&(mf(this),mO(this,n,e),this.i&&4!=n&&Pl(this))}},R.cancel=function(){this.I=!0,Ss(this)},R.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ml(3),on(17)),Ss(this),this.o=2,Ol(this)):yO(this,this.Y-n)},(R=da.prototype).R=function(){fT(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},R.T=function(){return fT(this),this.g.concat()},R.get=function(n,e){return Cs(this.h,n)?this.h[n]:e},R.set=function(n,e){Cs(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},R.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var _O=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function As(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof As){this.g=void 0!==e?e:n.g,yf(this,n.j),this.s=n.s,_f(this,n.i),vf(this,n.m),this.l=n.l,e=n.h;var t=new Vl;t.i=e.i,e.g&&(t.g=new da(e.g),t.h=e.h),vO(this,t),this.o=n.o}else n&&(t=String(n).match(_O))?(this.g=!!e,yf(this,t[1]||"",!0),this.s=Fl(t[2]||""),_f(this,t[3]||"",!0),vf(this,t[4]),this.l=Fl(t[5]||"",!0),vO(this,t[6]||"",!0),this.o=Fl(t[7]||"")):(this.g=!!e,this.h=new Vl(null,this.g))}function ii(n){return new As(n)}function yf(n,e,t){n.j=t?Fl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _f(n,e,t){n.i=t?Fl(e,!0):e}function vf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vO(n,e,t){e instanceof Vl?(n.h=e,function ree(n,e){e&&!n.j&&(Mi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(EO(this,r),TO(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ll(e,tee)),n.h=new Vl(e,n.g))}function ke(n,e,t){n.h.set(e,t)}function wf(n){return ke(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ll(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,XZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}As.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ll(e,wO,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ll(e,wO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ll(t,"/"==t.charAt(0)?eee:ZZ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ll(t,nee)),n.join("")};var wO=/[#\/\?@]/g,ZZ=/[#\?:]/g,eee=/[#\?]/g,tee=/[#\?@]/g,nee=/#/g;function Vl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mi(n){n.g||(n.g=new da,n.h=0,n.i&&function QZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function EO(n,e){Mi(n),e=ha(n,e),Cs(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cs((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&fT(n)))}function IO(n,e){return Mi(n),e=ha(n,e),Cs(n.g.h,e)}function TO(n,e,t){EO(n,e),0<t.length&&(n.i=null,n.g.set(ha(n,e),FI(t)),n.h+=t.length)}function ha(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bO(n){this.l=n||see,n=K.PerformanceNavigationTiming?0<(n=K.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Vl.prototype).add=function(n,e){Mi(this),this.i=null,n=ha(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},R.forEach=function(n,e){Mi(this),this.g.forEach(function(t,r){L1(t,function(i){n.call(e,i,r,this)},this)},this)},R.T=function(){Mi(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},R.R=function(n){Mi(this);var e=[];if("string"==typeof n)IO(this,n)&&(e=V1(e,this.g.get(ha(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=V1(e,n[t])}return e},R.set=function(n,e){return Mi(this),this.i=null,IO(this,n=ha(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},R.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var see=10;function DO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function SO(n){return n.h?1:n.g?n.g.size:0}function pT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gT(n,e){n.g?n.g.add(e):n.h=e}function CO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AO(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return FI(n.i)}function mT(){}function oee(){this.g=new mT}function aee(n,e,t){const r=t||"";try{hT(n,function(i,s){let o=i;Sl(i)&&(o=ZI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ef(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Ul(n){this.l=n.$b||null,this.j=n.ib||!1}function If(n,e){yt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bO.prototype.cancel=function(){if(this.i=AO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mT.prototype.stringify=function(n){return K.JSON.stringify(n,void 0)},mT.prototype.parse=function(n){return K.JSON.parse(n,void 0)},Rt(Ul,sT),Ul.prototype.g=function(){return new If(this.l,this.j)},Ul.prototype.i=function(n){return function(){return n}}({}),Rt(If,yt);var yT=0;function xO(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jl(n)}function jl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(R=If.prototype).open=function(n,e){if(this.readyState!=yT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jl(this)},R.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bl(this)),this.readyState=yT},R.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xO(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bl(this):jl(this),3==this.readyState&&xO(this)}},R.Ua=function(n){this.g&&(this.response=this.responseText=n,Bl(this))},R.Ta=function(n){this.g&&(this.response=n,Bl(this))},R.ha=function(){this.g&&Bl(this)},R.setRequestHeader=function(n,e){this.v.append(n,e)},R.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(If.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var lee=K.JSON.parse;function Xe(n){yt.call(this),this.headers=new da,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=MO,this.K=this.L=!1}Rt(Xe,yt);var MO="",cee=/^https?$/i,dee=["POST","PUT"];function fee(n){return"content-type"==n.toLowerCase()}function NO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RO(n),Tf(n)}function RO(n){n.D||(n.D=!0,kt(n,"complete"),kt(n,"error"))}function kO(n){if(n.h&&void 0!==kI&&(!n.C[1]||4!=si(n)||2!=n.ba()))if(n.v&&4==si(n))iT(n.Fa,0,n);else if(kt(n,"readystatechange"),4==si(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(_O)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!cee.test(i?i.toLowerCase():"")}t=r}if(t)kt(n,"complete"),kt(n,"success");else{n.m=6;try{var o=2<si(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",RO(n)}}finally{Tf(n)}}}function Tf(n,e){if(n.g){PO(n);const t=n.g,r=n.C[0]?nf:null;n.g=null,n.C=null,e||kt(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function PO(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(K.clearTimeout(n.A),n.A=null)}function si(n){return n.g?n.g.readyState:0}function OO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case MO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _T(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function pee(n){let e="";return VI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ke(n,e,t))}function $l(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FO(n){this.za=0,this.l=[],this.h=new df,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$l("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$l("baseRetryDelayMs",5e3,n),this.$a=$l("retryDelaySeedMs",1e4,n),this.Ya=$l("forwardChannelMaxRetries",2,n),this.ra=$l("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new bO(n&&n.concurrentRequestLimit),this.Ca=new oee,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function vT(n){if(LO(n),3==n.G){var e=n.V++,t=ii(n.F);ke(t,"SID",n.J),ke(t,"RID",e),ke(t,"TYPE","terminate"),Hl(n,t),(e=new kl(n,n.h,e,void 0)).K=2,e.v=wf(ii(t)),t=!1,K.navigator&&K.navigator.sendBeacon&&(t=K.navigator.sendBeacon(e.v.toString(),"")),!t&&K.Image&&((new Image).src=e.v,t=!0),t||(e.g=zO(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pl(e)}qO(n)}function bf(n){n.g&&(IT(n),n.g.cancel(),n.g=null)}function LO(n){bf(n),n.u&&(K.clearTimeout(n.u),n.u=null),Sf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&K.clearTimeout(n.m),n.m=null)}function wT(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Df(n)}function Df(n){DO(n.i)||n.m||(n.m=!0,eT(n.Ha,n),n.C=0)}function VO(n,e){var t;t=e?e.m:n.V++;const r=ii(n.F);ke(r,"SID",n.J),ke(r,"RID",t),ke(r,"AID",n.U),Hl(n,r),n.o&&n.s&&_T(r,n.o,n.s),t=new kl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=UO(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gT(n.i,t),cT(t,r,e)}function Hl(n,e){n.j&&hT({},function(t,r){ke(e,r,t)})}function UO(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Nt(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{aee(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function BO(n){n.g||n.u||(n.Y=1,eT(n.Ga,n),n.A=0)}function ET(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Nl(Nt(n.Ga,n),HO(n,n.A)),n.A++,0))}function IT(n){null!=n.B&&(K.clearTimeout(n.B),n.B=null)}function jO(n){n.g=new kl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ii(n.oa);ke(e,"RID","rpc"),ke(e,"SID",n.J),ke(e,"CI",n.N?"0":"1"),ke(e,"AID",n.U),Hl(n,e),ke(e,"TYPE","xmlhttp"),n.o&&n.s&&_T(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=wf(ii(e)),t.s=null,t.U=!0,pO(t,n)}function Sf(n){null!=n.v&&(K.clearTimeout(n.v),n.v=null)}function $O(n,e){var t=null;if(n.g==e){Sf(n),IT(n),n.g=null;var r=2}else{if(!pT(n.i,e))return;t=e.D,CO(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;kt(r=hf(),new lO(r,t,e,i)),Df(n)}else BO(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function gee(n,e){return!(SO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Nl(Nt(n.Ha,n,e),HO(n,n.C)),n.C++,0)))}(n,e)||2==r&&ET(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:xs(n,5);break;case 4:xs(n,10);break;case 3:xs(n,6);break;default:xs(n,2)}}function HO(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function xs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Nt(n.jb,n);t||(t=new As("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||yf(t,"https"),wf(t)),function uee(n,e){const t=new df;if(K.Image){const r=new Image;r.onload=rf(Ef,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rf(Ef,t,r,"TestLoadImage: error",!1,e),r.onabort=rf(Ef,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rf(Ef,t,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else on(2);n.G=0,n.j&&n.j.va(e),qO(n),LO(n)}function qO(n){n.G=0,n.I=-1,n.j&&((0!=AO(n.i).length||0!=n.l.length)&&(n.i.i.length=0,FI(n.l),n.l.length=0),n.j.ua())}function GO(n,e,t){let r=function YZ(n){return n instanceof As?ii(n):new As(n,void 0)}(t);if(""!=r.i)e&&_f(r,e+"."+r.i),vf(r,r.m);else{const i=K.location;r=function JZ(n,e,t,r){var i=new As(null,void 0);return n&&yf(i,n),e&&_f(i,e),t&&vf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&VI(n.aa,function(i,s){ke(r,s,i)}),t=n.sa,(e=n.D)&&t&&ke(r,e,t),ke(r,"VER",n.ma),Hl(n,r),r}function zO(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(t&&n.Ba&&!n.qa?new Ul({ib:!0}):n.qa)).L=n.H,e}function WO(){}function Cf(){if(la&&!(10<=Number(AZ)))throw Error("Environmental error: no available transport.")}function Cn(n,e){yt.call(this),this.g=new FO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fa(this)}function KO(n){oT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function QO(){aT.call(this),this.status=1}function fa(n){this.g=n}(R=Xe.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uT.g(),this.C=function dO(n){return n.h||(n.h=n.i())}(this.u?this.u:uT),this.g.onreadystatechange=Nt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void NO(this,s)}n=t||"";const i=new da(this.headers);r&&hT(r,function(s,o){i.set(o,s)}),r=function IZ(n){e:{var e=fee;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=K.FormData&&n instanceof K.FormData,!(0<=F1(dee,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PO(this),0<this.B&&((this.K=function hee(n){return la&&function CZ(){return function TZ(n){var e=SZ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=U1(String(of)).split("."),t=U1("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=LI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||LI(0==i[2].length,0==s[2].length)||LI(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.pa,this)):this.A=iT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NO(this,s)}},R.pa=function(){void 0!==kI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},R.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kt(this,"complete"),kt(this,"abort"),Tf(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tf(this,!0)),Xe.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?kO(this):this.cb())},R.cb=function(){kO(this)},R.ba=function(){try{return 2<si(this)?this.g.status:-1}catch(n){return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},R.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),lee(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=FO.prototype).ma=8,R.G=1,R.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},R.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new kl(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=$1(s),q1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UO(this,i,e),ke(t=ii(this.F),"RID",n),ke(t,"CVER",22),this.D&&ke(t,"X-HTTP-Session-Id",this.D),Hl(this,t),this.o&&s&&_T(t,this.o,s),gT(this.i,i),this.Ra&&ke(t,"TYPE","init"),this.ja?(ke(t,"$req",e),ke(t,"SID","null"),i.$=!0,cT(i,t,null)):cT(i,t,e),this.G=2}}else 3==this.G&&(n?VO(this,n):0==this.l.length||DO(this.i)||VO(this))},R.Ga=function(){if(this.u=null,jO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Nl(Nt(this.bb,this),n)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,on(10),bf(this),jO(this))},R.ab=function(){null!=this.v&&(this.v=null,bf(this),ET(this),on(19))},R.jb=function(n){n?(this.h.info("Successfully pinged google.com"),on(2)):(this.h.info("Failed to ping google.com"),on(1))},(R=WO.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},Cf.prototype.g=function(n,e){return new Cn(n,e)},Rt(Cn,yt),Cn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),eT(Nt(n.hb,n,e))),on(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=GO(n,null,n.W),Df(n)},Cn.prototype.close=function(){vT(this.g)},Cn.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,wT(this.g,e)}else this.v?((e={}).__data__=ZI(n),wT(this.g,e)):wT(this.g,n)},Cn.prototype.M=function(){this.g.j=null,delete this.j,vT(this.g),delete this.g,Cn.Z.M.call(this)},Rt(KO,oT),Rt(QO,aT),Rt(fa,WO),fa.prototype.xa=function(){kt(this.g,"a")},fa.prototype.wa=function(n){kt(this.g,new KO(n))},fa.prototype.va=function(n){kt(this.g,new QO(n))},fa.prototype.ua=function(){kt(this.g,"b")},Cf.prototype.createWebChannel=Cf.prototype.g,Cn.prototype.send=Cn.prototype.u,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,cO.COMPLETE="complete",hO.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",yt.prototype.listen=yt.prototype.N,Xe.prototype.listenOnce=Xe.prototype.O,Xe.prototype.getLastError=Xe.prototype.La,Xe.prototype.getLastErrorCode=Xe.prototype.Da,Xe.prototype.getStatus=Xe.prototype.ba,Xe.prototype.getResponseJson=Xe.prototype.Qa,Xe.prototype.getResponseText=Xe.prototype.ga,Xe.prototype.send=Xe.prototype.ea;var mee=ri.createWebChannelTransport=function(){return new Cf},yee=ri.getStatEventTarget=function(){return hf()},TT=ri.ErrorCode=ff,_ee=ri.EventType=cO,vee=ri.Event=Ds,YO=ri.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wee=ri.FetchXmlHttpFactory=Ul,Af=ri.WebChannel=hO,Eee=ri.XhrIo=Xe;const JO="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let pa="9.6.10";const Ni=new Xo("@firebase/firestore");function bT(){return Ni.logLevel}function D(n,...e){if(Ni.logLevel<=he.DEBUG){const t=e.map(DT);Ni.debug(`Firestore (${pa}): ${n}`,...t)}}function Ze(n,...e){if(Ni.logLevel<=he.ERROR){const t=e.map(DT);Ni.error(`Firestore (${pa}): ${n}`,...t)}}function xf(n,...e){if(Ni.logLevel<=he.WARN){const t=e.map(DT);Ni.warn(`Firestore (${pa}): ${n}`,...t)}}function DT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function F(n="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+n;throw Ze(e),new Error(e)}function G(n,e){n||F()}function x(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pt.UNAUTHENTICATED))}shutdown(){}}class bee{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _t,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _t)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new XO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Pt(e)}}class Dee{constructor(e,t,r){this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class See{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Dee(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cee{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.p=t.token,new ZO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class An{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Aee(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}An.A=-1;class eF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Aee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(n,e){return n<e?-1:n>e?1:0}function ga(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new et(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new et(0,0))}static max(){return new $(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function nF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ql{constructor(e,t,r){void 0===t?t=0:t>e.length&&F(),void 0===r?r=e.length-t:r>e.length-t&&F(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ql.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fe extends ql{construct(e,t,r){return new fe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fe(t)}static emptyPath(){return new fe([])}}const xee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ql{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return xee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class ma{constructor(e){this.fields=e,e.sort(Ot.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ct(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const Mee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(n){if(G(!!n),"string"==typeof n){let e=0;const t=Mee.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ns(n){return"string"==typeof n?ct.fromBase64String(n):ct.fromUint8Array(n)}function ST(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function iF(n){const e=n.mapValue.fields.__previous_value__;return ST(e)?iF(e):e}function Gl(n){const e=Ri(n.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}class Nee{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ki{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ki("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ki&&e.projectId===this.projectId&&e.database===this.database}}function Rs(n){return null==n}function zl(n){return 0===n&&1/n==-1/0}class A{constructor(e){this.path=e}static fromPath(e){return new A(fe.fromString(e))}static fromName(e){return new A(fe.fromString(e).popFirst(5))}static empty(){return new A(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new fe(e.slice()))}}function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ST(n)?4:dF(n)?9:10:F()}function xr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gl(n).isEqual(Gl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ns(n.bytesValue).isEqual(Ns(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?zl(s)===zl(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return ga(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(nF(s)!==nF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!xr(s[a],o[a])))return!1;return!0}(n,e);default:return F()}var i}function Wl(n,e){return void 0!==(n.values||[]).find(t=>xr(t,e))}function Pi(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return uF(n.timestampValue,e.timestampValue);case 4:return uF(Gl(n),Gl(e));case 5:return ie(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ns(i),a=Ns(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ie(o[u],a[u]);if(0!==l)return l}return ie(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(He(i.latitude),He(s.latitude));return 0!==o?o:ie(He(i.longitude),He(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Pi(o[u],a[u]);if(l)return l}return ie(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ie(a[c],l[c]);if(0!==d)return d;const h=Pi(o[a[c]],u[l[c]]);if(0!==h)return h}return ie(a.length,l.length)}(n.mapValue,e.mapValue);default:throw F()}}function uF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ie(n,e);const t=Ri(n),r=Ri(e),i=ie(t.seconds,r.seconds);return 0!==i?i:ie(t.nanos,r.nanos)}function ya(n){return CT(n)}function CT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ns(n.bytesValue).toBase64():"referenceValue"in n?A.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=CT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${CT(r.fields[a])}`;return s+"}"}(n.mapValue):F();var e}function AT(n){return!!n&&"integerValue"in n}function Kl(n){return!!n&&"arrayValue"in n}function lF(n){return!!n&&"nullValue"in n}function cF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mf(n){return!!n&&"mapValue"in n}function Ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ms(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Ql(this.value))}}function pF(n){const e=[];return Ms(n.fields,(t,r)=>{const i=new Ot([t]);if(Mf(r)){const s=pF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ma(e)}class xe{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xe(e,0,$.min(),$.min(),Gt.empty(),0)}static newFoundDocument(e,t,r){return new xe(e,1,t,$.min(),r,0)}static newNoDocument(e,t){return new xe(e,2,t,$.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new xe(e,3,t,$.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Ree(n){return new oi(n.readTime,n.key,-1)}class oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oi($.min(),A.empty(),-1)}static max(){return new oi($.max(),A.empty(),-1)}}function kee(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=A.comparator(n.documentKey,e.documentKey),0!==t?t:ie(n.largestBatchId,e.largestBatchId))}class Pee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function mF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Pee(n,e,t,r,i,s,o)}function Ps(n){const e=x(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ya(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Rs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.P=t}return e.P}function Jl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Hee(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!xr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vF(n.startAt,e.startAt)&&vF(n.endAt,e.endAt)}function kf(n){return A.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ft extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Fee(e,t,r):"array-contains"===t?new Uee(e,r):"in"===t?new Bee(e,r):"not-in"===t?new jee(e,r):"array-contains-any"===t?new $ee(e,r):new Ft(e,t,r)}static V(e,t,r){return"in"===t?new Lee(e,r):new Vee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pi(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.v(Pi(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Fee extends Ft{constructor(e,t,r){super(e,t,r),this.key=A.fromName(r.referenceValue)}matches(e){const t=A.comparator(e.key,this.key);return this.v(t)}}class Lee extends Ft{constructor(e,t){super(e,"in",t),this.keys=yF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vee extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=yF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>A.fromName(r.referenceValue))}class Uee extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kl(t)&&Wl(t.arrayValue,this.value)}}class Bee extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wl(this.value.arrayValue,t)}}class jee extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wl(this.value.arrayValue,t)}}class $ee extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}class Oi{constructor(e,t){this.position=e,this.inclusive=t}}class wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _F(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(o.referenceValue),t.key):Pi(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}class ai{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Ea(n){return new ai(n)}function Of(n){return!Rs(n.limit)&&"F"===n.limitType}function Ff(n){return!Rs(n.limit)&&"L"===n.limitType}function Ia(n){const e=x(n);if(null===e.D){e.D=[];const t=function NT(n){for(const e of n.filters)if(e.S())return e.field;return null}(e),r=function MT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new wa(t)),e.D.push(new wa(Ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new wa(Ot.keyField(),s))}}}return e.D}function qn(n){const e=x(n);if(!e.C)if("F"===e.limitType)e.C=mF(e.path,e.collectionGroup,Ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ia(e))t.push(new wa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Oi(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Oi(e.startAt.position,!e.startAt.inclusive):null;e.C=mF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Xl(n,e){return Jl(qn(n),qn(e))&&n.limitType===e.limitType}function IF(n){return`${Ps(qn(n))}|lt:${n.limitType}`}function kT(n){return`Query(target=${function Oee(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ya(r.value)}`;var r}).join(", ")}]`),Rs(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ya(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ya(t)).join(",")),`Target(${e})`}(qn(n))}; limitType=${n.limitType})`}function PT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):A.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=_F(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ia(t),r)||t.endAt&&!function(i,s,o){const a=_F(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ia(t),r)));var t,r}function bF(n){return(e,t)=>{let r=!1;for(const i of Ia(n)){const s=qee(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function qee(n,e,t){const r=n.field.isKeyField()?A.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Pi(a,u):F()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function DF(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function SF(n){return{integerValue:""+n}}function CF(n,e){return function sF(n){return"number"==typeof n&&Number.isInteger(n)&&!zl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?SF(e):DF(n,e)}class Lf{constructor(){this._=void 0}}function Gee(n,e,t){return n instanceof Ta?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Os?xF(n,e):n instanceof Fs?MF(n,e):function(r,i){const s=AF(r,i),o=NF(s)+NF(r.k);return AT(s)&&AT(r.k)?SF(o):DF(r.M,o)}(n,e)}function zee(n,e,t){return n instanceof Os?xF(n,e):n instanceof Fs?MF(n,e):t}function AF(n,e){return n instanceof ba?AT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ta extends Lf{}class Os extends Lf{constructor(e){super(),this.elements=e}}function xF(n,e){const t=RF(e);for(const r of n.elements)t.some(i=>xr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Fs extends Lf{constructor(e){super(),this.elements=e}}function MF(n,e){let t=RF(e);for(const r of n.elements)t=t.filter(i=>!xr(i,r));return{arrayValue:{values:t}}}class ba extends Lf{constructor(e,t){super(),this.M=e,this.k=t}}function NF(n){return He(n.integerValue||n.doubleValue)}function RF(n){return Kl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kee{constructor(e,t){this.version=e,this.transformResults=t}}class tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Uf{}function Qee(n,e,t){n instanceof ec?function(r,i,s){const o=r.value.clone(),a=FF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ls?function(r,i,s){if(!Vf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=FF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(OF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function OT(n,e,t){var i;n instanceof ec?function(r,i,s){if(!Vf(r.precondition,i))return;const o=r.value.clone(),a=LF(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(PF(i),o).setHasLocalMutations()}(n,e,t):n instanceof Ls?function(r,i,s){if(!Vf(r.precondition,i))return;const o=LF(r.fieldTransforms,s,i),a=i.data;a.setAll(OF(r)),a.setAll(o),i.convertToFoundDocument(PF(i),a).setHasLocalMutations()}(n,e,t):Vf(n.precondition,i=e)&&i.convertToNoDocument($.min())}function Yee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=AF(r.transform,i||null);null!=s&&(null==t&&(t=Gt.empty()),t.set(r.field,s))}return t||null}function kF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ga(t,r,(i,s)=>function Wee(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Os&&r instanceof Os||t instanceof Fs&&r instanceof Fs?ga(t.elements,r.elements,xr):t instanceof ba&&r instanceof ba?xr(t.k,r.k):t instanceof Ta&&r instanceof Ta);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function PF(n){return n.isFoundDocument()?n.version:$.min()}class ec extends Uf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ls extends Uf{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function OF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FF(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zee(o,a,t[i]))}return r}function LF(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Gee(s,o,e))}return r}class tc extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class FT extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Jee{constructor(e){this.count=e}}var nt,pe;function VF(n){switch(n){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function UF(n){if(void 0===n)return Ze("GRPC error has no .code"),w.UNKNOWN;switch(n){case nt.OK:return w.OK;case nt.CANCELLED:return w.CANCELLED;case nt.UNKNOWN:return w.UNKNOWN;case nt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case nt.INTERNAL:return w.INTERNAL;case nt.UNAVAILABLE:return w.UNAVAILABLE;case nt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case nt.NOT_FOUND:return w.NOT_FOUND;case nt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case nt.ABORTED:return w.ABORTED;case nt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case nt.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(pe=nt||(nt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Fi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rF(this.inner)}size(){return this.innerSize}}class ze{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Lt.RED,this.left=null!=i?i:Lt.EMPTY,this.right=null!=s?s:Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Lt(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1,Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Lt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BF(this.data.getIterator())}getIteratorFrom(e){return new BF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class BF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xee=new ze(A.comparator);function Gn(){return Xee}const Zee=new ze(A.comparator);function LT(){return Zee}function nc(){return new Fi(n=>n.toString(),(n,e)=>n.isEqual(e))}const ete=new ze(A.comparator),tte=new Me(A.comparator);function ye(...n){let e=tte;for(const t of n)e=e.add(t);return e}const nte=new Me(ie);function jf(){return nte}class rc{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t)),new rc($.min(),r,jf(),Gn(),ye())}}class ic{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ic(ct.EMPTY_BYTE_STRING,t,ye(),ye(),ye())}}class $f{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class jF{constructor(e,t){this.targetId=e,this.$=t}}class $F{constructor(e,t,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class HF{constructor(){this.B=0,this.L=GF(),this.U=ct.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=ye(),t=ye(),r=ye();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:F()}}),new ic(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=GF()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class rte{constructor(e){this.nt=e,this.st=new Map,this.it=Gn(),this.rt=qF(),this.ot=new Me(ie)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:F()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(kf(s))if(0===r){const o=new A(s.path);this.ct(t,o,xe.newNoDocument(o,$.min()))}else G(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&kf(a.target)){const u=new A(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,xe.newNoDocument(u,e))}s.j&&(t.set(o,s.H()),s.J())}});let r=ye();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new rc(e,t,this.ot,this.it,r);return this.it=Gn(),this.rt=qF(),this.ot=new Me(ie),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new HF,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Me(ie),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||D("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new HF),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function qF(){return new ze(A.comparator)}function GF(){return new ze(A.comparator)}const ite={asc:"ASCENDING",desc:"DESCENDING"},ste={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ote{constructor(e,t){this.databaseId=e,this.N=t}}function sc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zF(n,e){return n.N?e.toBase64():e.toUint8Array()}function ate(n,e){return sc(n,e.toTimestamp())}function vt(n){return G(!!n),$.fromTimestamp(function(e){const t=Ri(e);return new et(t.seconds,t.nanos)}(n))}function VT(n,e){return(t=n,new fe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WF(n){const e=fe.fromString(n);return G(nL(e)),e}function oc(n,e){return VT(n.databaseId,e.path)}function Mr(n,e){const t=WF(e);if(t.get(1)!==n.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new A(QF(t))}function UT(n,e){return VT(n.databaseId,e)}function ac(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QF(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YF(n,e,t){return{name:oc(n,e),fields:t.value.mapValue.fields}}function XF(n,e){return{documents:[UT(n,e.path)]}}function ZF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(cF(d.value))return{unaryFilter:{field:Sa(d.field),op:"IS_NAN"}};if(lF(d.value))return{unaryFilter:{field:Sa(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(cF(d.value))return{unaryFilter:{field:Sa(d.field),op:"IS_NOT_NAN"}};if(lF(d.value))return{unaryFilter:{field:Sa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(d.field),op:fte(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Sa((c=l).field),direction:hte(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.N||Rs(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function eL(n){let e=function KF(n){const e=WF(n);return 4===e.length?fe.emptyPath():QF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=tL(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new wa(Ca((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Rs(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Oi((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Oi(c.values||[],!c.before)}(t.endAt)),function wF(n,e,t,r,i,s,o,a){return new ai(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function tL(n){return n?void 0!==n.unaryFilter?[gte(n)]:void 0!==n.fieldFilter?[pte(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tL(e)).reduce((e,t)=>e.concat(t)):F():[]}function hte(n){return ite[n]}function fte(n){return ste[n]}function Sa(n){return{fieldPath:n.canonicalString()}}function Ca(n){return Ot.fromServerFormat(n.fieldPath)}function pte(n){return Ft.create(Ca(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}function gte(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ca(n.unaryFilter.field);return Ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ca(n.unaryFilter.field);return Ft.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ca(n.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ca(n.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}function mte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function Vs(n){return"IndexedDbTransactionError"===n.name}class $T{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qee(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&OT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&OT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(t,r)=>kF(t,r))&&ga(this.baseMutations,e.baseMutations,(t,r)=>kF(t,r))}}class HT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=ete;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new HT(e,t,r,i)}}class qT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Li{constructor(e,t,r,i,s=$.min(),o=$.min(),a=ct.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dL{constructor(e){this.Jt=e}}function GT(n){const e=eL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function EF(n,e,t){return new ai(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class xa{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),zl(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ns(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?dF(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):F()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),A.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}xa.fe=new xa;class Gte{constructor(){this.qe=new KT}addToCollectionParentIndex(e,t){return this.qe.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getFieldIndex(e,t){return E.resolve(null)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class KT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Me(fe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(fe.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Hs{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Hs(0)}static gn(){return new Hs(-1)}}function qs(n){return YT.apply(this,arguments)}function YT(){return YT=m(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==uL)throw n;D("LocalStore","Unexpectedly lost primary lease")}),YT.apply(this,arguments)}class nne{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return A.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):function RT(n){return null!==n.collectionGroup}(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new A(t)).next(r=>{let i=LT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let s=LT();return this.indexManager.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const u=(l=t,c=a.child(i),new ai(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.Ws(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=xe.newInvalidDocument(u),i=i.insert(u,l)),OT(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{PT(t,o)||(i=i.remove(s))}),i))}}class eb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=ye(),i=ye();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eb(e,t.fromCache,r,i)}}class ML{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual($.min())?this.Zs(e,t):this.Xs.qs(e,i).next(s=>{const o=this.ti(t,s);return(Of(t)||Ff(t))&&this.ei(t.limitType,o,i,r)?this.Zs(e,t):(bT()<=he.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kT(t)),this.Xs.Ks(e,t,function gF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new et(t+1,0):new et(t,r));return new oi(i,A.empty(),e)}(r,-1)).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}ti(e,t){let r=new Me(bF(e));return t.forEach((i,s)=>{PT(e,s)&&(r=r.add(s))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zs(e,t){return bT()<=he.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",kT(t)),this.Xs.Ks(e,t,oi.min())}}class rne{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new ze(ie),this.ii=new Fi(s=>Ps(s),Jl),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new nne(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function RL(n,e){return tb.apply(this,arguments)}function tb(){return tb=m(function*(n,e){const t=x(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(s=>(i=s,t.ui(e),t.$s.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ye();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.ai.qs(r,u).next(l=>({ci:l,removedBatchIds:o,addedBatchIds:a}))})})}),tb.apply(this,arguments)}function ine(n,e){const t=x(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.oi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);G(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.$s.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function kL(n){const e=x(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function sne(n,e){const t=x(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(t.ls.removeMatchingKeys(s,l.removedDocuments,c).next(()=>t.ls.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(ct.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.ls.updateTargetData(s,h))});let u=Gn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function PL(n,e,t){let r=ye();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Gn();return t.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual($.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):D("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual($.min())){const l=t.ls.getLastRemoteSnapshotVersion(s).next(c=>t.ls.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>t.ai.Gs(s,u)).next(()=>u)}).then(s=>(t.si=i,s))}function one(n,e){const t=x(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Ra(n,e){const t=x(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):t.ls.allocateTargetId(r).next(o=>(i=new Li(e,o,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function ka(n,e,t){return nb.apply(this,arguments)}function nb(){return nb=m(function*(n,e,t){const r=x(n),i=r.si.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vs(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),nb.apply(this,arguments)}function Zf(n,e,t){const r=x(n);let i=$.min(),s=ye();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=x(a),d=c.ii.get(l);return void 0!==d?E.resolve(c.si.get(d)):c.ls.getTargetData(u,l)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ni.Ks(o,e,t?i:$.min(),t?s:ye())).next(a=>(function LL(n,e,t){let r=$.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ri.set(e,r)}(r,function TF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,hi:s})))}class lne{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return E.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:vt(r.createTime)}),E.resolve()}getNamedQuery(e,t){return E.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:GT(r.bundledQuery),readTime:vt(r.readTime)}),E.resolve();var r}}class cne{constructor(){this.overlays=new ze(A.comparator),this.mi=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=nc(),s=t.length+1,o=new A(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ze((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=nc(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=nc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return E.resolve(a)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qT(t,r));let s=this.mi.get(t);void 0===s&&(s=ye(),this.mi.set(t,s)),this.mi.set(t,s.add(r.key))}}class sb{constructor(){this.gi=new Me(It.yi),this.pi=new Me(It.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new It(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new It(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new A(new fe([])),r=new It(t,e),i=new It(t,e+1),s=[];return this.pi.forEachInRange([r,i],o=>{this.Ei(o),s.push(o.key)}),s}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new A(new fe([])),r=new It(t,e),i=new It(t,e+1);let s=ye();return this.pi.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new It(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return A.comparator(e.key,t.key)||ie(e.Vi,t.Vi)}static Ii(e,t){return ie(e.Vi,t.Vi)||A.comparator(e.key,t.key)}}class dne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Me(It.yi)}checkEmpty(e){return E.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const s=this.vi;this.vi++;const o=new $T(s,t,r,i);this.$s.push(o);for(const a of i)this.Si=this.Si.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,t){return E.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),s=i<0?0:i;return E.resolve(this.$s.length>s?this.$s[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return E.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new It(t,0),i=new It(t,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([r,i],o=>{const a=this.Di(o.Vi);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(ie);return t.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,o],a=>{r=r.add(a.Vi)})}),E.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const o=new It(new A(s),0);let a=new Me(ie);return this.Si.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Vi)),!0)},o),E.resolve(this.xi(a))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return E.forEach(t.mutations,i=>{const s=new It(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new It(t,0),i=this.Si.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class hne{constructor(e){this.ki=e,this.docs=new ze(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(t))}getEntries(e,t){let r=Gn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),E.resolve(r)}getAllFromCollection(e,t,r){let i=Gn();const s=new A(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||kee(Ree(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return E.resolve(i)}getAllFromCollectionGroup(e,t,r,i){F()}Mi(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fne(this)}getSize(e){return E.resolve(this.size)}}class fne extends class Xte{constructor(){this.changes=new Fi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class pne{constructor(e){this.persistence=e,this.Oi=new Fi(t=>Ps(t),Jl),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Fi=0,this.$i=new sb,this.targetCount=0,this.Bi=Hs.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),E.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Hs(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.In(t),E.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Oi.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.$i.containsKey(t))}}class gne{constructor(e,t){this.Li={},this.overlays={},this.ts=new An(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new pne(this),this.indexManager=new Gte,this.fs=new hne(r=>this.referenceDelegate.Ui(r)),this.M=new dL(t),this.ds=new lne(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new dne(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){D("MemoryPersistence","Starting transaction:",e);const i=new mne(this.ts.next());return this.referenceDelegate.qi(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ki(e,t){return E.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class mne extends class Ote{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ob{constructor(e){this.persistence=e,this.Qi=new sb,this.ji=null}static Wi(e){return new ob(e)}get zi(){if(this.ji)return this.ji;throw F()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),E.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.zi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.zi,r=>{const i=A.fromPath(r);return this.Hi(e,i).next(s=>{s||t.removeEntry(i,$.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return E.or([()=>E.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}class lb{constructor(){this.activeTargetIds=jf()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Fr=new lb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new lb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yne{Br(e){}shutdown(){}}class jL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _ne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vne{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class wne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);D("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.ao(e,o,a,r).then(u=>(D("RestConnection","Received: ",u),u),u=>{throw xf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}co(e,t,r,i,s){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${_ne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((s,o)=>{const a=new Eee;a.listenOnce(_ee.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case TT.NO_ERROR:const l=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(l)),s(l);break;case TT.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case TT.HTTP_ERROR:const c=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new T(h,d.message))}else o(new T(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mee(),o=yee(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new wee({})),this.uo(a.initMessageHeaders,t,r),ZR()||ek()||function B6(){return pt().indexOf("Electron/")>=0}()||tk()||function j6(){return pt().indexOf("MSAppHost/")>=0}()||vh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");D("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new vne({jr:p=>{d?D("Connection","Not sending because WebChannel is closed:",p):(c||(D("Connection","Opening WebChannel transport."),l.open(),c=!0),D("Connection","WebChannel sending:",p),l.send(p))},Wr:()=>l.close()}),f=(p,g,_)=>{p.listen(g,v=>{try{_(v)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,Af.EventType.OPEN,()=>{d||D("Connection","WebChannel transport opened.")}),f(l,Af.EventType.CLOSE,()=>{d||(d=!0,D("Connection","WebChannel transport closed"),h.eo())}),f(l,Af.EventType.ERROR,p=>{d||(d=!0,xf("Connection","WebChannel transport errored:",p),h.eo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),f(l,Af.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];G(!!_);const v=_,y=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(y){D("Connection","WebChannel received error:",y);const b=y.status;let S=function(V){const le=nt[V];if(void 0!==le)return UF(le)}(b),P=y.message;void 0===S&&(S=w.INTERNAL,P="Unknown error status: "+b+" with message "+y.message),d=!0,h.eo(new T(S,P)),l.close()}else D("Connection","WebChannel received:",_),h.no(_)}}),f(o,vee.STAT_EVENT,p=>{p.stat===YO.PROXY?D("Connection","Detected buffering proxy"):p.stat===YO.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function np(){return"undefined"!=typeof document?document:null}function mc(n){return new ote(n,!0)}class db{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HL{constructor(e,t,r,i,s,o,a,u){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new db(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return m(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return m(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return m(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ze(t.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(m(function*(){e.state=0,e.start()}))}qo(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ene extends HL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.M=s}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function lte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(G(void 0===l||"string"==typeof l),ct.fromBase64String(l||"")):(G(void 0===l||l instanceof Uint8Array),ct.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?w.UNKNOWN:UF(u.code);return new T(l,u.message||"")}(o);t=new $F(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(n,r.document.name),s=vt(r.document.updateTime),o=new Gt({mapValue:{fields:r.document.fields}}),a=xe.newFoundDocument(i,s,o);t=new $f(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(n,r.document),s=r.readTime?vt(r.readTime):$.min(),o=xe.newNoDocument(i,s);t=new $f([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(n,r.document);t=new $f([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new Jee(r.count||0);t=new jF(r.targetId,s)}}var u;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return $.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?vt(s.readTime):$.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=ac(this.M),t.addTarget=function(i,s){let o;const a=s.target;return o=kf(a)?{documents:XF(i,a)}:{query:ZF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=zF(i,s.resumeToken):s.snapshotVersion.compareTo($.min())>0&&(o.readTime=sc(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function dte(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=ac(this.M),t.removeTarget=e,this.Oo(t)}}class Ine extends HL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.M=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function cte(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(r,i){let s=vt(r.updateTime?r.updateTime:i);return s.isEqual($.min())&&(s=vt(i)),new Kee(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vt(e.commitTime);return this.listener.Jo(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=ac(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function uc(n,e){let t;if(e instanceof ec)t={update:YF(n,e.key,e.value)};else if(e instanceof tc)t={delete:oc(n,e.key)};else if(e instanceof Ls)t={update:YF(n,e.key,e.data),updateMask:mte(e.fieldMask)};else{if(!(e instanceof FT))return F();t={verify:oc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Os)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ba)return{fieldPath:s.field.canonicalString(),increment:o.k};throw F()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ate(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),t;var i}(this.M,r))};this.Oo(t)}}class Tne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class bne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ze(t),this.su=!1):D("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Dne{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(m(function*(){var u;ji(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=x(l);c.lu.add(4),yield Pa(c),c._u.set("Unknown"),c.lu.delete(4),yield yc(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this._u=new bne(r,i)}}function yc(n){return hb.apply(this,arguments)}function hb(){return hb=m(function*(n){if(ji(n))for(const e of n.fu)yield e(!0)}),hb.apply(this,arguments)}function Pa(n){return fb.apply(this,arguments)}function fb(){return fb=m(function*(n){for(const e of n.fu)yield e(!1)}),fb.apply(this,arguments)}function rp(n,e){const t=x(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),mb(t)?gb(t):Fa(t).Co()&&pb(t,e))}function _c(n,e){const t=x(n),r=Fa(t);t.hu.delete(e),r.Co()&&qL(t,e),0===t.hu.size&&(r.Co()?r.ko():ji(t)&&t._u.set("Unknown"))}function pb(n,e){n.wu.Z(e.targetId),Fa(n).Qo(e)}function qL(n,e){n.wu.Z(e),Fa(n).jo(e)}function gb(n){n.wu=new rte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Fa(n).start(),n._u.iu()}function mb(n){return ji(n)&&!Fa(n).Do()&&n.hu.size>0}function ji(n){return 0===x(n).lu.size}function GL(n){n.wu=void 0}function Sne(n){return yb.apply(this,arguments)}function yb(){return yb=m(function*(n){n.hu.forEach((e,t)=>{pb(n,e)})}),yb.apply(this,arguments)}function Cne(n,e){return _b.apply(this,arguments)}function _b(){return _b=m(function*(n,e){GL(n),mb(n)?(n._u.uu(e),gb(n)):n._u.set("Unknown")}),_b.apply(this,arguments)}function Ane(n,e,t){return vb.apply(this,arguments)}function vb(){return vb=m(function*(n,e,t){if(n._u.set("Online"),e instanceof $F&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ip(n,r)}else if(e instanceof $f?n.wu.ut(e):e instanceof jF?n.wu._t(e):n.wu.ht(e),!t.isEqual($.min()))try{const r=yield kL(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(ct.EMPTY_BYTE_STRING,u.snapshotVersion)),qL(i,a);const l=new Li(u.target,a,1,u.sequenceNumber);pb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield ip(n,r)}var r}),vb.apply(this,arguments)}function ip(n,e,t){return wb.apply(this,arguments)}function wb(){return wb=m(function*(n,e,t){if(!Vs(e))throw e;n.lu.add(1),yield Pa(n),n._u.set("Offline"),t||(t=()=>kL(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){D("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield yc(n)}))}),wb.apply(this,arguments)}function zL(n,e){return e().catch(t=>ip(n,t,e))}function Oa(n){return Eb.apply(this,arguments)}function Eb(){return Eb=m(function*(n){const e=x(n),t=$i(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;xne(e);)try{const i=yield one(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,Mne(e,i)}catch(i){yield ip(e,i)}WL(e)&&KL(e)}),Eb.apply(this,arguments)}function xne(n){return ji(n)&&n.cu.length<10}function Mne(n,e){n.cu.push(e);const t=$i(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function WL(n){return ji(n)&&!$i(n).Do()&&n.cu.length>0}function KL(n){$i(n).start()}function Nne(n){return Ib.apply(this,arguments)}function Ib(){return Ib=m(function*(n){$i(n).Xo()}),Ib.apply(this,arguments)}function Rne(n){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(n){const e=$i(n);for(const t of n.cu)e.Ho(t.mutations)}),Tb.apply(this,arguments)}function kne(n,e,t){return bb.apply(this,arguments)}function bb(){return bb=m(function*(n,e,t){const r=n.cu.shift(),i=HT.from(r,e,t);yield zL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Oa(n)}),bb.apply(this,arguments)}function Pne(n,e){return Db.apply(this,arguments)}function Db(){return Db=m(function*(n,e){var t;e&&$i(n).zo&&(yield(t=m(function*(r,i){if(VF(s=i.code)&&s!==w.ABORTED){const o=r.cu.shift();$i(r).No(),yield zL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Oa(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),WL(n)&&KL(n)}),Db.apply(this,arguments)}function QL(n,e){return Sb.apply(this,arguments)}function Sb(){return Sb=m(function*(n,e){const t=x(n);t.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=ji(t);t.lu.add(3),yield Pa(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield yc(t)}),Sb.apply(this,arguments)}function Ab(){return Ab=m(function*(n,e){const t=x(n);e?(t.lu.delete(2),yield yc(t)):e||(t.lu.add(2),yield Pa(t),t._u.set("Unknown"))}),Ab.apply(this,arguments)}function Fa(n){return n.mu||(n.mu=function(e,t,r){const i=x(e);return i.tu(),new Ene(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:Sne.bind(null,n),Jr:Cne.bind(null,n),Ko:Ane.bind(null,n)}),n.fu.push(function(){var e=m(function*(t){t?(n.mu.No(),mb(n)?gb(n):n._u.set("Unknown")):(yield n.mu.stop(),GL(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function $i(n){return n.gu||(n.gu=function(e,t,r){const i=x(e);return i.tu(),new Ine(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:Nne.bind(null,n),Jr:Pne.bind(null,n),Yo:Rne.bind(null,n),Jo:kne.bind(null,n)}),n.fu.push(function(){var e=m(function*(t){t?(n.gu.No(),yield Oa(n)):(yield n.gu.stop(),n.cu.length>0&&(D("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class xb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new xb(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function La(n,e){if(Ze("AsyncQueue",`${e}: ${n}`),Vs(n))return new T(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Va{constructor(e){this.comparator=e?(t,r)=>e(t,r)||A.comparator(t.key,r.key):(t,r)=>A.comparator(t.key,r.key),this.keyedMap=LT(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Va(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class YL{constructor(){this.yu=new ze(A.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):F():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ua{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Ua(e,t,Va.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class One{constructor(){this.Iu=void 0,this.listeners=[]}}class Fne{constructor(){this.queries=new Fi(e=>IF(e),Xl),this.onlineState="Unknown",this.Tu=new Set}}function Nb(){return Nb=m(function*(n,e){const t=x(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new One),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=La(o,`Initialization of query '${kT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&Pb(t)}),Nb.apply(this,arguments)}function kb(){return kb=m(function*(n,e){const t=x(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),kb.apply(this,arguments)}function Lne(n,e){const t=x(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&Pb(t)}function Vne(n,e,t){const r=x(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Pb(n){n.Tu.forEach(e=>{e.next()})}class Ob{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class ZL{constructor(e){this.key=e}}class eV{constructor(e){this.key=e}}class tV{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ye(),this.mutatedKeys=ye(),this.Lu=bF(e),this.Uu=new Va(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new YL,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Of(this.query)&&i.size===this.query.limit?i.last():null,l=Ff(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=PT(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Lu(f,u)>0||l&&this.Lu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),Of(this.query)||Ff(this.query))for(;o.size>this.query.limit;){const c=Of(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Ku:r,ei:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Ku.pu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new Ua(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new YL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ye(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new eV(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new ZL(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=ye();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ua.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $ne{constructor(e){this.key=e,this.Xu=!1}}class Hne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Fi(a=>IF(a),Xl),this.ea=new Map,this.na=new Set,this.sa=new ze(A.comparator),this.ia=new Map,this.ra=new sb,this.oa={},this.ua=new Map,this.aa=Hs.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function qne(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(n,e){const t=sD(n);let r,i;const s=t.ta.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Ra(t.localStore,qn(e));t.isPrimaryClient&&rp(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Lb(t,e,r,"current"===a)}return i}),Fb.apply(this,arguments)}function Lb(n,e,t,r){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(n,e,t,r){n.ha=(c,d,h)=>{return(f=m(function*(p,g,_,v){let y=g.view.Gu(_);y.ei&&(y=yield Zf(p.localStore,g.query,!1).then(({documents:P})=>g.view.Gu(P,y)));const b=v&&v.targetChanges.get(g.targetId),S=g.view.applyChanges(y,p.isPrimaryClient,b);return Kb(p,g.targetId,S.zu),S.snapshot}),function(p,g,_,v){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Zf(n.localStore,e,!0),s=new tV(e,i.hi),o=s.Gu(i.documents),a=ic.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);Kb(n,t,u.zu);const l=new jne(e,t,s);return n.ta.set(e,l),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),u.snapshot}),Vb.apply(this,arguments)}function Gne(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(n,e){const t=x(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(s=>!Xl(s,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ka(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_c(t.remoteStore,r.targetId),Ba(t,r.targetId)}).catch(qs))):(Ba(t,r.targetId),yield ka(t.localStore,r.targetId,!0))}),Ub.apply(this,arguments)}function Bb(){return Bb=m(function*(n,e,t){const r=oD(n);try{const i=yield function(s,o){const a=x(s),u=et.now(),l=o.reduce((d,h)=>d.add(h.key),ye());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ai.qs(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=Yee(p,c.get(p.key));null!=g&&f.push(new Ls(p.key,g,pF(g.value.mapValue),tt.exists(!0)))}return a.$s.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oa[s.currentUser.toKey()];u||(u=new ze(ie)),u=u.insert(o,a),s.oa[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ui(r,i.changes),yield Oa(r.remoteStore)}catch(i){const s=La(i,"Failed to persist write");t.reject(s)}}),Bb.apply(this,arguments)}function nV(n,e){return jb.apply(this,arguments)}function jb(){return jb=m(function*(n,e){const t=x(n);try{const r=yield sne(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ia.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?G(o.Xu):i.removedDocuments.size>0&&(G(o.Xu),o.Xu=!1))}),yield ui(t,r,e)}catch(r){yield qs(r)}}),jb.apply(this,arguments)}function rV(n,e,t){const r=x(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Eu(o)&&(u=!0)}),u&&Pb(a)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Wne(n,e,t){return $b.apply(this,arguments)}function $b(){return $b=m(function*(n,e,t){const r=x(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),s=i&&i.key;if(s){let o=new ze(A.comparator);o=o.insert(s,xe.newNoDocument(s,$.min()));const a=ye().add(s),u=new rc($.min(),new Map,new Me(ie),o,a);yield nV(r,u),r.sa=r.sa.remove(s),r.ia.delete(e),Qb(r)}else yield ka(r.localStore,e,!1).then(()=>Ba(r,e,t)).catch(qs)}),$b.apply(this,arguments)}function Kne(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=m(function*(n,e){const t=x(n),r=e.batch.batchId;try{const i=yield ine(t.localStore,e);Wb(t,r,null),zb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ui(t,i)}catch(i){yield qs(i)}}),Hb.apply(this,arguments)}function Qne(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=m(function*(n,e,t){const r=x(n);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.$s.lookupMutationBatch(u,o).next(c=>(G(null!==c),l=c.keys(),a.$s.removeMutationBatch(u,c))).next(()=>a.$s.performConsistencyCheck(u)).next(()=>a.ai.qs(u,l))})}(r.localStore,e);Wb(r,e,t),zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ui(r,i)}catch(i){yield qs(i)}}),qb.apply(this,arguments)}function zb(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Wb(n,e,t){const r=x(n);let i=r.oa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function Ba(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||iV(n,r)})}function iV(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(_c(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Qb(n))}function Kb(n,e,t){for(const r of t)r instanceof ZL?(n.ra.addReference(r.key,e),Jne(n,r)):r instanceof eV?(D("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||iV(n,r.key)):F()}function Jne(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(D("SyncEngine","New document in limbo: "+t),n.na.add(r),Qb(n))}function Qb(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new A(fe.fromString(e)),r=n.aa.next();n.ia.set(r,new $ne(t)),n.sa=n.sa.insert(t,r),rp(n.remoteStore,new Li(qn(Ea(t.path)),r,2,An.A))}}function ui(n,e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=m(function*(n,e,t){const r=x(n),i=[],s=[],o=[];var a;r.ta.isEmpty()||(r.ta.forEach((a,u)=>{o.push(r.ha(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=eb.Js(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Zu.Ko(i),yield(a=m(function*(u,l){const c=x(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(l,h=>E.forEach(h.zs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Hs,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Vs(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.si.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.si=c.si.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),Yb.apply(this,arguments)}function Xne(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=m(function*(n,e){const t=x(n);if(!t.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield RL(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(o=>{o.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ui(t,r.ci)}var i}),Jb.apply(this,arguments)}function Zne(n,e){const t=x(n),r=t.ia.get(e);if(r&&r.Xu)return ye().add(r.key);{let i=ye();const s=t.ea.get(e);if(!s)return i;for(const o of s){const a=t.ta.get(o);i=i.unionWith(a.view.qu)}return i}}function sD(n){const e=x(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wne.bind(null,e),e.Zu.Ko=Lne.bind(null,e.eventManager),e.Zu.la=Vne.bind(null,e.eventManager),e}function oD(n){const e=x(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qne.bind(null,e),e}class ure{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.M=mc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return function NL(n,e,t,r){return new rne(n,e,t,r)}(this.persistence,new ML,e.initialUser,this.M)}_a(e){return new gne(ob.Wi,this.M)}da(e){return new BL}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aD{initialize(e,t){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Xne.bind(null,r.syncEngine),yield function Cb(n,e){return Ab.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fne}createDatastore(e){const t=mc(e.databaseInfo.databaseId),r=new wne(e.databaseInfo);return new Tne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>rV(this.syncEngine,a,0),o=jL.vt()?new jL:new yne,new Dne(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new Hne(r,i,s,o,a,u);return l&&(c.ca=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const r=x(t);D("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Pa(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class pre{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=eF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=La(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uV(n,e){return uD.apply(this,arguments)}function uD(){return uD=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield RL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uD.apply(this,arguments)}function lV(n,e){return lD.apply(this,arguments)}function lD(){return lD=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cD(n);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>QL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>QL(e.remoteStore,s)),n.onlineComponents=e}),lD.apply(this,arguments)}function cD(n){return dD.apply(this,arguments)}function dD(){return dD=m(function*(n){return n.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield uV(n,new ure)),n.offlineComponents}),dD.apply(this,arguments)}function op(n){return hD.apply(this,arguments)}function hD(){return hD=m(function*(n){return n.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield lV(n,new aD)),n.onlineComponents}),hD.apply(this,arguments)}function ja(n){return gD.apply(this,arguments)}function gD(){return gD=m(function*(n){const e=yield op(n),t=e.eventManager;return t.onListen=qne.bind(null,e.syncEngine),t.onUnlisten=Gne.bind(null,e.syncEngine),t}),gD.apply(this,arguments)}const pV=new Map;function mD(n,e,t){if(!t)throw new T(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gV(n){if(!A.isDocumentKey(n))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mV(n){if(A.isDocumentKey(n))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ap(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":F()}function ge(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ap(n);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class _V{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Tre(n,e,t,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _V({}),this._settingsFrozen=!1,e instanceof ki?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ki(i.options.projectId)}(e))}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _V(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Iee;switch(t.type){case"gapi":const r=t.client;return G(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new See(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pV.get(e);t&&(D("ComponentProvider","Removing Datastore"),pV.delete(e),t.terminate())}(this),Promise.resolve()}}class We{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}}class zt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Nr extends zt{constructor(e,t,r){super(e,t,Ea(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new A(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function bre(n,e,...t){if(n=$n(n),mD("collection","path",e),n instanceof vc){const r=fe.fromString(e,...t);return mV(r),new Nr(n,null,r)}{if(!(n instanceof We||n instanceof Nr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(e,...t));return mV(r),new Nr(n.firestore,null,r)}}class Cre{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new db(this,"async_queue_retry"),this.Ua=()=>{const t=np();t&&D("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=np();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=np();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new _t;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return m(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Vs(t))throw t;D("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=xb.createAndSchedule(this,e,t,r,s=>this.Qa(s));return this.Oa.push(i),i}qa(){this.Fa&&F()}verifyOperationInProgress(){}ja(){var e=this;return m(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function yD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Pe extends vc{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Cre,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vV(this),this._firestoreClient.terminate()}}function xre(n=M_()){return Zo(n,"firestore").getImmediate()}function dt(n){return n._firestoreClient||vV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vV(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Nee(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new pre(n._authCredentials,n._appCheckCredentials,n._queue,r)}class $a{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(ct.fromBase64String(e))}catch(t){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zs(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class IV{constructor(e){this._methodName=e}}class _D{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const Mre=/^__.*__$/;class Nre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}function bV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class up{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ja(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return cp(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(bV(this.Ya)&&Mre.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Rre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||mc(e)}uc(e,t,r,i=!1){return new up({Ya:e,methodName:t,oc:r,path:Ot.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ha(n){const e=n._freezeSettings(),t=mc(n._databaseId);return new Rre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vD(n,e,t,r,i,s={}){const o=n.uc(s.merge||s.mergeFields?2:0,e,t,i);ED("Data must be an object, but it was:",o,r);const a=xV(r,o);let u,l;if(s.merge)u=new ma(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ID(e,d,t);if(!o.contains(h))throw new T(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NV(c,h)||c.push(h)}u=new ma(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Nre(new Gt(a),u,l)}function Ws(n,e){if(MV(n=$n(n)))return ED("Unsupported field value:",e,n),xV(n,e);if(n instanceof IV)return function(t,r){if(!bV(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ws(o,r.sc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=$n(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CF(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=et.fromDate(t);return{timestampValue:sc(r.M,i)}}if(t instanceof et){const i=new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sc(r.M,i)}}if(t instanceof _D)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zs)return{bytesValue:zF(r.M,t._byteString)};if(t instanceof We){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ic(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${ap(t)}`)}(n,e)}function xV(n,e){const t={};return rF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(r,i)=>{const s=Ws(i,e.Za(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function MV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof et||n instanceof _D||n instanceof zs||n instanceof We||n instanceof IV)}function ED(n,e,t){if(!MV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ap(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function ID(n,e,t){if((e=$n(e))instanceof $a)return e._internalPath;if("string"==typeof e)return lp(n,e);throw cp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Fre=new RegExp("[~\\*/\\[\\]]");function lp(n,e,t){if(e.search(Fre)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $a(...e.split("."))._internalPath}catch(r){throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(w.INVALID_ARGUMENT,a+n+u)}function NV(n,e){return n.some(t=>t.isEqual(e))}class TD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lre extends TD{data(){return super.data()}}function dp(n,e){return"string"==typeof e?lp(n,e):e instanceof $a?e._internalPath:e._delegate._internalPath}class Ks{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends TD{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hp extends qa{data(e={}){return super.data(e)}}class Ga{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ks(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hp(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new hp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ks(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new hp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ks(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:Vre(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Qs extends class jre{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw F()}}convertObject(e,t){const r={};return Ms(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new _D(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const t=Ri(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fe.fromString(e);G(nL(r));const i=new ki(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(t)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,t)}}function Hre(n,e){const t=ge(n.firestore,Pe),r=function Dre(n,e,...t){if(n=$n(n),1===arguments.length&&(e=eF.R()),mD("doc","path",e),n instanceof vc){const r=fe.fromString(e,...t);return gV(r),new We(n,null,new A(r))}{if(!(n instanceof We||n instanceof Nr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(e,...t));return gV(r),new We(n.firestore,n instanceof Nr?n.converter:null,new A(r))}}(n),i=function bD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Ec(n,e){return function(t,r){const i=new _t;return t.asyncQueue.enqueueAndForget(m(function*(){return function zne(n,e,t){return Bb.apply(this,arguments)}(yield function pD(n){return op(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(dt(n),e)}(t,[vD(Ha(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}!function(n,e=!0){pa="9.6.10",tn(new Ht("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Pe(i,new bee(t.getProvider("auth-internal")),new Cee(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),$e(JO,"3.4.7",n),$e(JO,"3.4.7","esm2017")}();var zre={includeMetadataChanges:!1};function SD(n,e){return void 0===e&&(e=zre),new Ve(function(t){var r=function qre(n,...e){var t,r,i;n=$n(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||yD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(yD(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof We)l=ge(n.firestore,Pe),c=Ea(n._key.path),u={next:d=>{e[o]&&e[o](function DD(n,e,t){const r=t.docs.get(e._key),i=new Qs(n);return new qa(n,i,e._key,r,new Ks(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(n,zt);l=ge(d.firestore,Pe),c=d._query;const h=new Qs(l);u={next:f=>{e[o]&&e[o](new Ga(l,h,d,f))},error:e[o+1],complete:e[o+2]},function RV(n){if(Ff(n)&&0===n.explicitOrderBy.length)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new sp(p),_=new Ob(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function Mb(n,e){return Nb.apply(this,arguments)}(yield ja(d),_)})),()=>{g.pa(),d.asyncQueue.enqueueAndForget(m(function*(){return function Rb(n,e){return kb.apply(this,arguments)}(yield ja(d),_)}))}}(dt(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Zre(n,e){return void 0===e&&(e={}),function Xre(n){return SD(n,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}(n).pipe(Ee(function(t){return t.map(function(r){return function jV(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class pp{constructor(e){return e}}const GV="firestore",xD=new se("angularfire2.firestore-instances");function nie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new pp(r)}}const rie={provide:class eie{constructor(){return pw(GV)}},deps:[[new st,xD]]},iie={provide:pp,useFactory:function tie(n,e){const t=fw(GV,n,e);return t&&new pp(t)},deps:[[new st,xD],oa]};let sie=(()=>{class n{constructor(){$e("angularfire",Nh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({providers:[iie,rie]}),n})();function oie(n,...e){return{ngModule:sie,providers:[{provide:xD,useFactory:nie(n),multi:!0,deps:[Oe,Ct,gw,mw,[new st,O1],[new st,kw],...e]}]}}const aie=sa(Zre,!0),uie=sa(Hre,!0),zV=sa(bre,!0),lie=sa(xre,!0);class cie{constructor(e,t,r){this.id=e,this.storyId=t,this.points=r}}let die=(()=>{class n{constructor(t){this.firestore=t}getVotes(){const t=zV(this.firestore,"votes");return aie(t).pipe(Ee(i=>i.map(s=>new cie(s.id,s.storyId,s.points))))}addVote(t){const r=zV(this.firestore,"votes");return uie(r,t)}}return n.\u0275fac=function(t){return new(t||n)(L(pp))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hie=(()=>{class n{constructor(t){this.voteService=t,this.title="afb4",this.votes=[],this.voteService.getVotes().subscribe(r=>{this.votes=r,console.log(`votes: ${JSON.stringify(this.votes)}`)})}onClick(){console.log("onClick()"),this.voteService.addVote({id:"",storyId:"story-1",points:1})}}return n.\u0275fac=function(t){return new(t||n)(U(die))},n.\u0275cmp=Fc({type:n,selectors:[["app-root"]],decls:5,vars:1,consts:[[3,"click"]],template:function(t,r){1&t&&(xu(0,"button",0),Nu("click",function(){return r.onClick()}),Vm(1,"Click Me"),Mu(),xu(2,"h2"),Vm(3),Mu(),Td(4,"router-outlet")),2&t&&(function pC(n){gC(de(),I(),Yt()+n,Hc())}(3),Sd("There are ",r.votes.length," votes"))},directives:[a_],styles:[""]}),n})();class WV{}const li="*";function KV(n,e=null){return{type:2,steps:n,options:e}}function QV(n){return{type:6,styles:n,offset:null}}function YV(n){Promise.resolve(null).then(n)}class Ic{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){YV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class JV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?YV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const ue=!1;function XV(n){return new O(3e3,ue)}function Wie(){return"undefined"!=typeof window&&void 0!==window.document}function ND(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hi(n){switch(n.length){case 0:return new Ic;case 1:return n[0];default:return new JV(n)}}function ZV(n,e,t,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.offset,h=d==u,f=h&&l||{};Object.keys(c).forEach(p=>{let g=p,_=c[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),_){case"!":_=i[p];break;case li:_=s[p];break;default:_=e.normalizeStyleValue(p,g,_,o)}f[g]=_}),h||a.push(f),l=f,u=d}),o.length)throw function Fie(n){return new O(3502,ue)}();return a}function RD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&kD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&kD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&kD(t,"destroy",n)))}}function kD(n,e,t){const r=t.totalTime,s=PD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function PD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xn(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function eU(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let OD=(n,e)=>!1,tU=(n,e,t)=>[],nU=null;function FD(n){const e=n.parentNode||n.host;return e===nU?null:e}(ND()||"undefined"!=typeof Element)&&(Wie()?(nU=(()=>document.documentElement)(),OD=(n,e)=>{for(;e;){if(e===n)return!0;e=FD(e)}return!1}):OD=(n,e)=>n.contains(e),tU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ys=null,rU=!1;function iU(n){Ys||(Ys=function Qie(){return"undefined"!=typeof document?document.body:null}()||{},rU=!!Ys.style&&"WebkitAppearance"in Ys.style);let e=!0;return Ys.style&&!function Kie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ys.style,!e&&rU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ys.style)),e}const sU=OD,oU=tU;let aU=(()=>{class n{validateStyleProperty(t){return iU(t)}matchesElement(t,r){return!1}containsElement(t,r){return sU(t,r)}getParentElement(t){return FD(t)}query(t,r,i){return oU(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Ic(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),LD=(()=>{class n{}return n.NOOP=new aU,n})();const VD="ng-enter",mp="ng-leave",yp="ng-trigger",_p=".ng-trigger",lU="ng-animating",UD=".ng-animating";function Js(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:BD(parseFloat(e[1]),e[2])}function BD(n,e){return"s"===e?1e3*n:n}function vp(n,e,t){return n.hasOwnProperty("duration")?n:function Xie(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(XV()),{duration:0,delay:0,easing:""};i=BD(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=BD(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function pie(){return new O(3100,ue)}()),a=!0),s<0&&(e.push(function gie(){return new O(3101,ue)}()),a=!0),a&&e.splice(u,0,XV())}return{duration:i,delay:s,easing:o}}(n,e,t)}function za(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qi(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else za(n,t);return t}function dU(n,e,t){return t?e+":"+t+";":""}function hU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dU(0,tse(t),n.style[t]));n.setAttribute("style",e)}function Rr(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=$D(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),ND()&&hU(n))}function Xs(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=$D(t);n.style[r]=""}),ND()&&hU(n))}function Tc(n){return Array.isArray(n)?1==n.length?n[0]:KV(n):n}const jD=new RegExp("{{\\s*(.+?)\\s*}}","g");function fU(n){let e=[];if("string"==typeof n){let t;for(;t=jD.exec(n);)e.push(t[1]);jD.lastIndex=0}return e}function wp(n,e,t){const r=n.toString(),i=r.replace(jD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function yie(n){return new O(3003,ue)}()),a=""),a.toString()});return i==r?n:i}function Ep(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ese=/-+([a-z0-9])/g;function $D(n){return n.replace(ese,(...e)=>e[1].toUpperCase())}function tse(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function _ie(n){return new O(3004,ue)}()}}function pU(n,e){return window.getComputedStyle(n)[e]}function ase(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function use(n,e,t){if(":"==n[0]){const u=function lse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Rie(n){return new O(3016,ue)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Nie(n){return new O(3015,ue)}()),e;const i=r[1],s=r[2],o=r[3];e.push(gU(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(gU(o,i))}(r,t,e)):t.push(n),t}const Dp=new Set(["true","1"]),Sp=new Set(["false","0"]);function gU(n,e){const t=Dp.has(n)||Sp.has(n),r=Dp.has(e)||Sp.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Dp.has(n):Sp.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Dp.has(e):Sp.has(e)),o&&a}}const cse=new RegExp("s*:selfs*,?","g");function HD(n,e,t,r){return new dse(n).build(e,t,r)}class dse{constructor(e){this._driver=e}build(e,t,r){const i=new pse(t);this._resetContextStyleTimingState(i);const s=Mn(this,Tc(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function wie(){return new O(3006,ue)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Eie(){return new O(3007,ue)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(Cp(a)){const u=a;Object.keys(u).forEach(l=>{fU(u[l]).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}}),s.size&&(Ep(s.values()),t.errors.push(function Iie(n,e){return new O(3008,ue)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Mn(this,Tc(e.animation),t);return{type:1,matchers:ase(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zs(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Mn(this,r,t)),options:Zs(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Mn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Zs(e.options)}}visitAnimate(e,t){const r=function mse(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return qD(vp(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=qD(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||vp(r,e),qD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:QV({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=QV(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==li?r.push(o):t.errors.push(function Tie(n){return new O(3002,ue)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Cp(o)){const a=o,u=a.easing;if(u&&(s=u,delete a.easing),!i)for(let l in a)if(a[l].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const u=t.collectedStyles[t.currentQuerySelector],l=u[a];let c=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(t.errors.push(function bie(n,e,t,r,i){return new O(3010,ue)}()),c=!1),s=l.startTime),c&&(u[a]={startTime:s,endTime:i}),t.options&&function Zie(n,e,t){const r=e.params||{},i=fU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function mie(n){return new O(3001,ue)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Die(){return new O(3011,ue)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let b=null!=y.offset?y.offset:function gse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Cp(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Cp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),S=0;return null!=b&&(s++,S=y.offset=b),u=u||S<0||S>1,a=a||S<l,l=S,o.push(S),y});u&&t.errors.push(function Sie(){return new O(3012,ue)}()),a&&t.errors.push(function Cie(){return new O(3200,ue)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Aie(){return new O(3202,ue)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return c.forEach((v,y)=>{const b=h>0?y==f?1:h*y:o[y],S=b*_;t.currentTime=p+g.delay+S,g.duration=S,this._validateStyleAst(v,t),v.offset=b,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Mn(this,Tc(e.animation),t),options:Zs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zs(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zs(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function hse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cse,"")),n=n.replace(/@\*/g,_p).replace(/@\w+/g,t=>_p+"-"+t.substr(1)).replace(/:animating/g,UD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,xn(t.collectedStyles,t.currentQuerySelector,{});const a=Mn(this,Tc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Zs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function xie(){return new O(3013,ue)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vp(e.timings,t.errors,!0);return{type:12,animation:Mn(this,Tc(e.animation),t),timings:r,options:null}}}class pse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cp(n){return!Array.isArray(n)&&"object"==typeof n}function Zs(n){return n?(n=za(n)).params&&(n.params=function fse(n){return n?za(n):null}(n.params)):n={},n}function qD(n,e,t){return{duration:n,delay:e,easing:t}}function GD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ap{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vse=new RegExp(":enter","g"),Ese=new RegExp(":leave","g");function zD(n,e,t,r,i,s={},o={},a,u,l=[]){return(new Ise).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Ise{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new Ap;const d=new WD(e,t,l,i,s,c,[]);d.options=u,d.currentTimeline.setStyles([o],null,d.errors,u),Mn(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const g=h[p];if(g.element===t){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,u)}return h.length?h.map(f=>f.buildKeyframes()):[GD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Js(r.duration):null,a=null!=r.delay?Js(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Mn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xp);const o=Js(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Mn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Js(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Mn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vp(t.params?wp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Js(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xp);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),Mn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Mn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const xp={};class WD{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Mp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Js(r.duration)),null!=r.delay&&(i.delay=Js(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=wp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new WD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=xp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new Tse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(vse,"."+this._enterClassName)).replace(Ese,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Mie(n){return new O(3014,ue)}()),a}}class Mp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Mp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||li,this._currentKeyframe[t]=li}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function bse(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=li})):qi(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=wp(o[a],s,r);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:li),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=qi(a,!0);Object.keys(l).forEach(c=>{const d=l[c];"!"==d?e.add(c):d==li&&t.add(c)}),r||(l.offset=u/this.duration),i.push(l)});const s=e.size?Ep(e.values()):[],o=t.size?Ep(t.values()):[];if(r){const a=i[0],u=za(a);a.offset=0,u.offset=1,i=[a,u]}return GD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Tse extends Mp{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=qi(e[0],!1);u.offset=0,s.push(u);const l=qi(e[0],!1);l.offset=_U(a),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=qi(e[d],!1);h.offset=_U((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return GD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function _U(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class KD{}class Dse extends KD{normalizePropertyName(e,t){return $D(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Sse[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function vie(n,e){return new O(3005,ue)}())}return o+s}}const Sse=(()=>function Cse(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vU(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const QD={};class wU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Ase(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||QD,p=this.buildStyles(r,a&&a.params||QD,d),g=u&&u.params||QD,_=this.buildStyles(i,g,d),v=new Set,y=new Map,b=new Map,S="void"===i,P={params:Object.assign(Object.assign({},h),g)},V=c?[]:zD(e,t,this.ast.animation,s,o,p,_,P,l,d);let le=0;if(V.forEach(Ne=>{le=Math.max(Ne.duration+Ne.delay,le)}),d.length)return vU(t,this._triggerName,r,i,S,p,_,[],[],y,b,le,d);V.forEach(Ne=>{const ce=Ne.element,_e=xn(y,ce,{});Ne.preStyleProps.forEach(fr=>_e[fr]=!0);const Wt=xn(b,ce,{});Ne.postStyleProps.forEach(fr=>Wt[fr]=!0),ce!==t&&v.add(ce)});const we=Ep(v.values());return vU(t,this._triggerName,r,i,S,p,_,V,we,y,b,le)}}class xse{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=za(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=wp(u,i,t));const l=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,l,u,t),r[l]=u})}}),r}}class Nse{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new xse(i.style,i.options&&i.options.params||{},r)}),EU(this.states,"true","1"),EU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wU(e,i,this.states))}),this.fallbackTransition=function Rse(n,e,t){return new wU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function EU(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const kse=new Ap;class Pse{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=HD(this._driver,t,r,[]);if(r.length)throw function Lie(n){return new O(3503,ue)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=ZV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=zD(this._driver,t,s,VD,mp,{},{},r,kse,i),o.forEach(c=>{const d=xn(a,c.element,{});c.postStyleProps.forEach(h=>d[h]=null)})):(i.push(function Vie(){return new O(3300,ue)}()),o=[]),i.length)throw function Uie(n){return new O(3504,ue)}();a.forEach((c,d)=>{Object.keys(c).forEach(h=>{c[h]=this._driver.computeStyle(d,h,li)})});const l=Hi(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Bie(n){return new O(3301,ue)}();return t}listen(e,t,r,i){const s=PD(t,"","","");return RD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const IU="ng-animate-queued",YD="ng-animate-disabled",Use=[],TU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed";class JD{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function qse(n){return null!=n?n:null}(r?e.value:e),r){const s=za(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const bc="void",XD=new JD(bc);class jse{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function jie(n,e){return new O(3302,ue)}();if(null==r||0==r.length)throw function $ie(n){return new O(3303,ue)}();if(!function Gse(n){return"start"==n||"done"==n}(r))throw function Hie(n,e){return new O(3400,ue)}();const s=xn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=xn(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Wn(e,yp),Wn(e,yp+"-"+t),a[t]=XD),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function qie(n){return new O(3401,ue)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new ZD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Wn(e,yp),Wn(e,yp+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const l=new JD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=XD),l.value!==bc&&u.value===l.value){if(!function Kse(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],_=s.matchStyles(u.value,u.params,g),v=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Xs(e,_),Rr(e,v)})}return}const h=xn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Wn(e,IU),o.onStart(()=>{Wa(e,IU)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,_p,!0);r.forEach(i=>{if(i[zn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(u=>{if(o.set(u,s[u].value),this._triggers[u]){const l=this.trigger(e,u,bc,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Hi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers[o].fallbackTransition,l=r[o]||XD,c=new JD(bc),d=new ZD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[zn];(!s||s===TU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Wn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=PD(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,RD(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class $se{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new jse(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Np(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Np(t))return;const s=t[zn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wn(e,YD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wa(e,YD))}removeNode(e,t,r,i){if(Np(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Np(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,_p,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,UD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hi(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[zn];if(r&&r.setForRemoval){if(e[zn]=TU,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(YD))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Wn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Gie(n){return new O(3402,ue)}()}_flushAnimations(e,t){const r=new Ap,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(k=>{c.add(k);const B=this.driver.query(k,".ng-animate-queued",!0);for(let q=0;q<B.length;q++)c.add(B[q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=SU(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((k,B)=>{const q=VD+g++;p.set(B,q),k.forEach(me=>Wn(me,q))});const _=[],v=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const B=this.collectedLeaveElements[k],q=B[zn];q&&q.setForRemoval&&(_.push(B),v.add(B),q.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(me=>v.add(me)):y.add(B))}const b=new Map,S=SU(h,Array.from(v));S.forEach((k,B)=>{const q=mp+g++;b.set(B,q),k.forEach(me=>Wn(me,q))}),e.push(()=>{f.forEach((k,B)=>{const q=p.get(B);k.forEach(me=>Wa(me,q))}),S.forEach((k,B)=>{const q=b.get(B);k.forEach(me=>Wa(me,q))}),_.forEach(k=>{this.processLeaveNode(k)})});const P=[],V=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(t).forEach(q=>{const me=q.player,Tt=q.element;if(P.push(me),this.collectedEnterElements.length){const an=Tt[zn];if(an&&an.setForMove){if(an.previousTriggersValues&&an.previousTriggersValues.has(q.triggerName)){const eo=an.previousTriggersValues.get(q.triggerName),zi=this.statesByElement.get(q.element);zi&&zi[q.triggerName]&&(zi[q.triggerName].value=eo)}return void me.destroy()}}const kr=!d||!this.driver.containsElement(d,Tt),Nn=b.get(Tt),Gi=p.get(Tt),Le=this._buildInstruction(q,r,Gi,Nn,kr);if(Le.errors&&Le.errors.length)return void V.push(Le);if(kr)return me.onStart(()=>Xs(Tt,Le.fromStyles)),me.onDestroy(()=>Rr(Tt,Le.toStyles)),void i.push(me);if(q.isFallbackTransition)return me.onStart(()=>Xs(Tt,Le.fromStyles)),me.onDestroy(()=>Rr(Tt,Le.toStyles)),void i.push(me);const LU=[];Le.timelines.forEach(an=>{an.stretchStartingKeyframe=!0,this.disabledNodes.has(an.element)||LU.push(an)}),Le.timelines=LU,r.append(Tt,Le.timelines),o.push({instruction:Le,player:me,element:Tt}),Le.queriedElements.forEach(an=>xn(a,an,[]).push(me)),Le.preStyleProps.forEach((an,eo)=>{const zi=Object.keys(an);if(zi.length){let to=u.get(eo);to||u.set(eo,to=new Set),zi.forEach(t0=>to.add(t0))}}),Le.postStyleProps.forEach((an,eo)=>{const zi=Object.keys(an);let to=l.get(eo);to||l.set(eo,to=new Set),zi.forEach(t0=>to.add(t0))})});if(V.length){const k=[];V.forEach(B=>{k.push(function zie(n,e){return new O(3505,ue)}())}),P.forEach(B=>B.destroy()),this.reportError(k)}const le=new Map,we=new Map;o.forEach(k=>{const B=k.element;r.has(B)&&(we.set(B,B),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,le))}),i.forEach(k=>{const B=k.element;this._getPreviousPlayers(B,!1,k.namespaceId,k.triggerName,null).forEach(me=>{xn(le,B,[]).push(me),me.destroy()})});const Ne=_.filter(k=>AU(k,u,l)),ce=new Map;DU(ce,this.driver,y,l,li).forEach(k=>{AU(k,u,l)&&Ne.push(k)});const Wt=new Map;f.forEach((k,B)=>{DU(Wt,this.driver,new Set(k),u,"!")}),Ne.forEach(k=>{const B=ce.get(k),q=Wt.get(k);ce.set(k,Object.assign(Object.assign({},B),q))});const fr=[],Ka=[],Qa={};o.forEach(k=>{const{element:B,player:q,instruction:me}=k;if(r.has(B)){if(c.has(B))return q.onDestroy(()=>Rr(B,me.toStyles)),q.disabled=!0,q.overrideTotalTime(me.totalTime),void i.push(q);let Tt=Qa;if(we.size>1){let Nn=B;const Gi=[];for(;Nn=Nn.parentNode;){const Le=we.get(Nn);if(Le){Tt=Le;break}Gi.push(Nn)}Gi.forEach(Le=>we.set(Le,Tt))}const kr=this._buildAnimation(q.namespaceId,me,le,s,Wt,ce);if(q.setRealPlayer(kr),Tt===Qa)fr.push(q);else{const Nn=this.playersByElement.get(Tt);Nn&&Nn.length&&(q.parentPlayer=Hi(Nn)),i.push(q)}}else Xs(B,me.fromStyles),q.onDestroy(()=>Rr(B,me.toStyles)),Ka.push(q),c.has(B)&&i.push(q)}),Ka.forEach(k=>{const B=s.get(k.element);if(B&&B.length){const q=Hi(B);k.setRealPlayer(q)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<_.length;k++){const B=_[k],q=B[zn];if(Wa(B,mp),q&&q.hasAnimation)continue;let me=[];if(a.size){let kr=a.get(B);kr&&kr.length&&me.push(...kr);let Nn=this.driver.query(B,UD,!0);for(let Gi=0;Gi<Nn.length;Gi++){let Le=a.get(Nn[Gi]);Le&&Le.length&&me.push(...Le)}}const Tt=me.filter(kr=>!kr.destroyed);Tt.length?zse(this,B,Tt):this.processLeaveNode(B)}return _.length=0,fr.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();const B=this.players.indexOf(k);this.players.splice(B,1)}),k.play()}),fr}elementContainsData(e,t){let r=!1;const i=t[zn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==bc;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=xn(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Xs(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const _=g[zn];if(_&&_.removedBeforeQueried)return new Ic(p.duration,p.delay);const v=g!==u,y=function Wse(n){const e=[];return CU(n,e),e}((r.get(g)||Use).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===g),b=s.get(g),S=o.get(g),P=ZV(0,this._normalizer,0,p.keyframes,b,S),V=this._buildPlayer(p,P,y);if(p.subTimeline&&i&&d.add(g),v){const le=new ZD(e,a,g);le.setRealPlayer(V),l.push(le)}return V});l.forEach(p=>{xn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Hse(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Wn(p,lU));const f=Hi(h);return f.onDestroy(()=>{c.forEach(p=>Wa(p,lU)),Rr(u,t.toStyles)}),d.forEach(p=>{xn(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ic(e.duration,e.delay)}}class ZD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ic,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>RD(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Np(n){return n&&1===n.nodeType}function bU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function DU(n,e,t,r,i){const s=[];t.forEach(u=>s.push(bU(u)));const o=[];r.forEach((u,l)=>{const c={};u.forEach(d=>{const h=c[d]=e.computeStyle(l,d,i);(!h||0==h.length)&&(l[zn]=Bse,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>bU(u,s[a++])),o}function SU(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Wn(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Wa(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function zse(n,e,t){Hi(t).onDone(()=>n.processLeaveNode(e))}function CU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof JV?CU(r.players,e):e.push(r)}}function AU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Rp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new $se(e,t,r),this._timelineEngine=new Pse(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=HD(this._driver,s,u,[]);if(u.length)throw function Oie(n,e){return new O(3404,ue)}();a=function Mse(n,e,t){return new Nse(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=eU(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=eU(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Yse=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rr(this._element,this._initialStyles),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),Rr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function e0(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Jse(i)&&(e=e||{},e[i]=n[i])}return e}function Jse(n){return"display"===n||"position"===n}class xU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:pU(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xse{validateStyleProperty(e){return iU(e)}matchesElement(e,t){return!1}containsElement(e,t){return sU(e,t)}getParentElement(e){return FD(e)}query(e,t,r){return oU(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l={},c=o.filter(h=>h instanceof xU);(function nse(n,e){return 0===n||0===e})(r,i)&&c.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>l[p]=f[p])}),t=function rse(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(u){a[u]=pU(n,u)})}}return e}(e,t=t.map(h=>qi(h,!1)),l);const d=function Qse(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=e0(e[0]),e.length>1&&(r=e0(e[e.length-1]))):e&&(t=e0(e)),t||r?new Yse(n,t,r):null}(e,t);return new xU(e,t,u,d)}}let Zse=(()=>{class n extends WV{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Qn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?KV(t):t;return MU(this._renderer,null,r,"register",[i]),new eoe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(L(Vu),L(cn))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class eoe extends class fie{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new toe(this._id,e,t||{},this._renderer)}}class toe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return MU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function MU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const NU="@.disabled";let noe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new RU("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new roe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(L(Vu),L(Rp),L(Oe))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class RU{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==NU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class roe extends RU{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function ioe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function soe(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let ooe=(()=>{class n extends Rp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(L(cn),L(LD),L(KD))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const kU=new se("AnimationModuleType"),PU=[{provide:WV,useClass:Zse},{provide:KD,useFactory:function aoe(){return new Dse}},{provide:Rp,useClass:ooe},{provide:Vu,useFactory:function uoe(n,e,t){return new noe(n,e,t)},deps:[th,Rp,Oe]}],OU=[{provide:LD,useFactory:()=>new Xse},{provide:kU,useValue:"BrowserAnimations"},...PU],loe=[{provide:LD,useClass:aU},{provide:kU,useValue:"NoopAnimations"},...PU];let coe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?loe:OU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=Rn({providers:OU,imports:[BN]}),n})();const FU_firebase={projectId:"kanbanfire-e9311",appId:"1:537221498866:web:1428345f0b472ff9ff8d6b",databaseURL:"https://kanbanfire-e9311-default-rtdb.firebaseio.com",storageBucket:"kanbanfire-e9311.appspot.com",locationId:"us-central",apiKey:"AIzaSyAtZ-bsrWSeaxmgYonh17hcJ-qzscn9o0Q",authDomain:"kanbanfire-e9311.firebaseapp.com",messagingSenderId:"537221498866",measurementId:"G-SY27T79XHP"};let doe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n,bootstrap:[hie]}),n.\u0275inj=Rn({providers:[],imports:[[BN,k6,coe,jQ(()=>$Q(FU_firebase)),fZ(()=>pZ()),oie(()=>lie())]]}),n})();(function kW(){eN=!1})(),JK().bootstrapModule(doe).catch(n=>console.error(n))}},De=>{De(De.s=129)}]);